/*
 *             Copyright (c) 2016 - 2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x57ed=['Delete\x20comment\x20thread?','_createResolveButton','removeCommentThread','label','commentThreadChildren','isSystemComment','ck-thread__container','bindTemplate','execute','commentViews','commentThreadHeaderView','bind','_cancelAllConfirms','addMany','isReadOnly','check','render','removeButton','placeholder','stop','listenTo','get','then','isActive','change:isActive','fire','_bindFirstCommentView','ck-reset_all-excluded','_boundFirstCommentView','resolveButton','createCollection','isEnabled','set','cancelConfirm','actionIndicator','unbind','locale','setTemplate','ck-thread--','Write\x20a\x20comment...','ck-comment--resolve','getTemplate','remove','resolveCommentThread','ck-thread--active','.ck-thread__container','change:isResolved','isVisible','add','tooltip','length','isResolvable','commentsListView','Resolve','isResolved','isConfirm','extendTemplate','_model','containerElement'];(function(_0x13e36b,_0x57ed3e){const _0xa2722a=function(_0x31fc20){while(--_0x31fc20){_0x13e36b['push'](_0x13e36b['shift']());}};_0xa2722a(++_0x57ed3e);}(_0x57ed,0xb7));const _0xa272=function(_0x13e36b,_0x57ed3e){_0x13e36b=_0x13e36b-0x0;let _0xa2722a=_0x57ed[_0x13e36b];return _0xa2722a;};import{ConfirmMixin as _0x3a28c0}from'ckeditor5-collaboration/src/collaboration-core';import{ButtonView as _0x1d648d}from'ckeditor5/src/ui';import{icons as _0xcb6c85}from'ckeditor5/src/core';import _0x75302d from'./basecommentthreadview';import{getTranslation as _0x20bc48}from'../../../utils/common-translations';export default class ct extends _0x3a28c0(_0x75302d){constructor(_0x57deff,_0x2cb262,_0x5a50b3,_0x4f903c){super(_0x57deff,_0x2cb262,_0x5a50b3,_0x4f903c),this[_0xa272('0x39')]=this[_0xa272('0x18')](),this[_0xa272('0x39')][_0xa272('0x7')]([this['commentsListView'],this['commentThreadInputView']]),this[_0xa272('0x33')]['isResolved']&&this['commentThreadChildren']['add'](this[_0xa272('0x4')],0x0),this[_0xa272('0x33')]['on'](_0xa272('0x28'),(_0x5ec7a3,_0x4663c3,_0x9b6edd)=>{_0x9b6edd?this[_0xa272('0x39')]['add'](this['commentThreadHeaderView'],0x0):this['commentThreadChildren'][_0xa272('0x24')](this['commentThreadHeaderView']);}),this[_0xa272('0x1a')](_0xa272('0x1c'),null),this[_0xa272('0x34')]=null,this[_0xa272('0x16')]=null,this[_0xa272('0x1e')]=_0x57deff,this[_0xa272('0x17')]=this['_createResolveButton'](),this[_0xa272('0x1f')](this[_0xa272('0x23')]()),this['on'](_0xa272('0x12'),(_0x33a869,_0x409c28,_0x4a9878)=>{_0x4a9878||this[_0xa272('0x6')]();}),this[_0xa272('0xe')](this[_0xa272('0x33')],'change:isReadOnly',(_0x1565ee,_0x1ca549,_0xd11317)=>{_0xd11317&&this[_0xa272('0x6')]();}),this[_0xa272('0x2c')]>0x0&&this[_0xa272('0x14')](),this[_0xa272('0xe')](this[_0xa272('0x2e')][_0xa272('0x3')],_0xa272('0x2a'),()=>{this[_0xa272('0x14')]();});}[_0xa272('0x23')](){const _0x3de17b=this[_0xa272('0x1')];return{'tag':'div','attributes':{'class':['ck-thread',_0xa272('0x15'),_0x3de17b['if'](_0xa272('0x11'),_0xa272('0x26')),_0x3de17b['if'](_0xa272('0x31'),'ck-thread--remove-confirmation'),_0x3de17b['to'](_0xa272('0x1c'),_0x14ef5f=>_0x14ef5f?_0xa272('0x20')+_0x14ef5f:'')],'data-thread-id':this['_model']['id'],'tabindex':-0x1},'children':[{'tag':'div','attributes':{'class':_0xa272('0x0')},'children':this['commentThreadChildren']}]};}[_0xa272('0xa')](){super[_0xa272('0xa')](),this[_0xa272('0x34')]=this['element']['querySelector'](_0xa272('0x27'));}[_0xa272('0x6')](){this['cancelConfirm']();for(const _0x1f6803 of this[_0xa272('0x2e')][_0xa272('0x3')])_0x1f6803[_0xa272('0x1b')]();}[_0xa272('0x14')](){const {locale:_0x5362f1}=this,_0x528825=this['commentsListView']['commentViews'][_0xa272('0xf')](0x0);_0x528825===this[_0xa272('0x16')]||_0x528825[_0xa272('0x3a')]||(this[_0xa272('0x16')]=_0x528825,this[_0xa272('0x1d')](_0xa272('0x1c')),this['bind']('actionIndicator')['to'](_0x528825,_0xa272('0x1c'),_0x32522b=>'remove'===_0x32522b?_0xa272('0x24'):null),_0x528825[_0xa272('0xc')]=_0x20bc48(_0x5362f1,_0xa272('0x21')),_0x528825[_0xa272('0xb')]['on']('execute',_0x394279=>{_0x394279[_0xa272('0xd')](),this['showConfirm'](_0x20bc48(_0x5362f1,_0xa272('0x35')),this[_0xa272('0x34')])[_0xa272('0x10')](()=>{this[_0xa272('0x13')](_0xa272('0x37'));});},{'priority':'high'}),_0x528825['actionBar'][_0xa272('0x2a')](this[_0xa272('0x17')],0x0));}[_0xa272('0x36')](){const _0x4d0c30=new _0x1d648d(this[_0xa272('0x1e')]);return _0x4d0c30[_0xa272('0x38')]=_0x20bc48(this[_0xa272('0x1e')],_0xa272('0x2f')),_0x4d0c30[_0xa272('0x2b')]=_0x20bc48(this['locale'],_0xa272('0x2f')),_0x4d0c30['icon']=_0xcb6c85[_0xa272('0x9')],_0x4d0c30[_0xa272('0x32')]({'attributes':{'class':_0xa272('0x22')}}),_0x4d0c30[_0xa272('0x5')](_0xa272('0x19'))['to'](this[_0xa272('0x33')],_0xa272('0x8'),_0x542bd0=>!_0x542bd0),_0x4d0c30[_0xa272('0x5')](_0xa272('0x29'))['to'](this[_0xa272('0x33')],_0xa272('0x2d'),this[_0xa272('0x33')],_0xa272('0x30'),this,'isDirty',(_0xf32cbd,_0x19b740,_0x5ccb4e)=>_0xf32cbd&&!_0x19b740&&!_0x5ccb4e),_0x4d0c30['on'](_0xa272('0x2'),()=>{this[_0xa272('0x13')](_0xa272('0x25'),this['_model']['id']);}),_0x4d0c30;}}