/*
 *             Copyright (c) 2016 - 2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x3e33=['element','time','ck-comment__user','removeButton','items','ck-annotation__content-wrapper','_createEditButton','some','ck-annotation__actions','remove','EXTERNAL_AVATAR','editButton','EXTERNAL_IMPORT_WORD_COMMENT','render','author','change:isEnabled','ck-comment__info-time','ck-comment--','showConfirm','actionBar','getTemplate','ck-annotation__info-time','_createRemoveButton','label','isEnabled','setTemplate','importWord','buttonView','ck-comment__actions','cancelConfirm','pencil','getExternalCommentNote','ck-comment__info','visibleView','blur','add','name','_model','Reply...','isEditable','_attachActions','@external','isReadOnly','panelPosition','children','icon','div','ck-comment--info','ck-comment--remove-confirmation','resolvedAt','listenTo','focus','dropdown','_config','isExternal','isEditMode','then','execute','userView','fire','formatDateTime','isVisible','EXTERNAL_IMPORT_WORD_AVATAR','ck-comment__external','ck-comment__main','edit','locale','panelView','placeholder','isRemovable','authoredAt','ck-annotation__main','actionIndicator','Remove','_createCommentInputView','isSystemComment','ck-comment--edit','bind','mouseenter','createCollection','ck-comment__actions--hidden','Delete\x20comment?','set','Show\x20more\x20items','Edit','withText','source','ck-annotation__user','addMany','length','extendTemplate','removeComment'];(function(_0x88841a,_0x3e335d){const _0xa3e5f5=function(_0x5209f1){while(--_0x5209f1){_0x88841a['push'](_0x88841a['shift']());}};_0xa3e5f5(++_0x3e335d);}(_0x3e33,0x87));const _0xa3e5=function(_0x88841a,_0x3e335d){_0x88841a=_0x88841a-0x0;let _0xa3e5f5=_0x3e33[_0x88841a];return _0xa3e5f5;};import{ButtonView as _0x2f0860,createDropdown as _0x5e6e08,ListView as _0x128d99,ListItemView as _0x128197}from'ckeditor5/src/ui';import{icons as _0x3956a8}from'ckeditor5/src/core';import{UserView as _0x17566e,ConfirmMixin as _0x326f70}from'ckeditor5-collaboration/src/collaboration-core';import _0x258114 from'./basecommentview';import _0x27b608 from'../../../../theme/icons/remove-comment.svg';import{getTranslation as _0x5e1084}from'../../../utils/common-translations';export default class lt extends _0x326f70(_0x258114){constructor(_0x5c8a55,_0x3e28f7,_0x1574b1){super(_0x5c8a55,_0x3e28f7,_0x1574b1),this['set']('actionIndicator',null),this[_0xa3e5('0x27')](_0xa3e5('0x19'),_0x5e1084(_0x5c8a55,_0xa3e5('0x57'))),this[_0xa3e5('0x22')](_0xa3e5('0x1b'))['to'](_0x3e28f7),this[_0xa3e5('0x22')](_0xa3e5('0x6'))['to'](_0x3e28f7),this['actionBar']=this[_0xa3e5('0x24')](),this[_0xa3e5('0x20')]||(this[_0xa3e5('0x3c')]=this[_0xa3e5('0x37')](),this[_0xa3e5('0x34')]=this[_0xa3e5('0x47')](),this['items']=this['createCollection'](),this['items'][_0xa3e5('0x2d')]([this['editButton'],this[_0xa3e5('0x34')]]),this['dropdown']=this['_createDropdown'](),this[_0xa3e5('0x44')][_0xa3e5('0x54')](this[_0xa3e5('0x9')])),this['userView']=new _0x17566e(_0x5c8a55,_0x3e28f7['author'],this['getUserViewNotificationText']()),this[_0xa3e5('0xf')][_0xa3e5('0x2f')]({'attributes':{'class':[_0xa3e5('0x33'),_0xa3e5('0x2c')]}}),this['listenTo'](_0x3e28f7,'change:isRemovable',()=>this[_0xa3e5('0x4e')]()),this[_0xa3e5('0x4a')](this[_0xa3e5('0x45')]());}[_0xa3e5('0x45')](){const _0x28cbc6=this['bindTemplate'],_0x894353=[{'tag':_0xa3e5('0x3'),'attributes':{'class':[_0xa3e5('0x51'),'ck-annotation__info']},'children':[{'tag':'span','children':[{'text':this[_0xa3e5('0xf')][_0xa3e5('0x55')]}],'attributes':{'class':['ck-comment__info-name','ck-annotation__info-name']}},{'tag':_0xa3e5('0x32'),'attributes':{'datetime':_0x28cbc6['to'](_0xa3e5('0x1b')),'class':[_0xa3e5('0x41'),_0xa3e5('0x46')]},'children':[{'text':_0x28cbc6['to'](_0xa3e5('0x1b'),_0x355697=>this[_0xa3e5('0xa')][_0xa3e5('0x11')](_0x355697))}]}]},{'tag':_0xa3e5('0x3'),'attributes':{'class':[_0xa3e5('0x4d'),_0xa3e5('0x39'),_0x28cbc6['if'](_0xa3e5('0xc'),_0xa3e5('0x25')),_0x28cbc6['if']('isEditMode','ck-annotation__actions--hidden')]},'children':this[_0xa3e5('0x44')]},{'tag':_0xa3e5('0x3'),'attributes':{'class':[_0xa3e5('0x36')]},'children':this[_0xa3e5('0x52')]}];return this[_0xa3e5('0x56')][_0xa3e5('0xb')]&&_0x894353['push']({'tag':'div','attributes':{'class':[_0xa3e5('0x14')]},'children':[{'text':this[_0xa3e5('0x50')]()}]}),{'tag':'li','attributes':{'class':['ck-comment__wrapper',_0x28cbc6['if']('isConfirm',_0xa3e5('0x5'))],'tabindex':-0x1},'children':[{'tag':_0xa3e5('0x3'),'attributes':{'class':['ck-comment','ck-annotation',_0x28cbc6['if'](_0xa3e5('0xc'),'ck-comment--edit'),_0x28cbc6['if']('isSystemComment',_0xa3e5('0x4')),_0x28cbc6['to'](_0xa3e5('0x1d'),_0x2a639a=>_0x2a639a?_0xa3e5('0x42')+_0x2a639a:'')],'data-author-id':this[_0xa3e5('0x56')][_0xa3e5('0x3f')]['id'],'data-comment-id':this[_0xa3e5('0x56')]['id']},'children':[this[_0xa3e5('0xf')],{'tag':_0xa3e5('0x3'),'attributes':{'class':[_0xa3e5('0x15'),_0xa3e5('0x1c')]},'children':_0x894353}]}]};}[_0xa3e5('0x37')](){const _0x2692ff=new _0x2f0860(this['locale']);return _0x2692ff[_0xa3e5('0x48')]=_0x5e1084(this['locale'],_0xa3e5('0x29')),_0x2692ff[_0xa3e5('0x2')]=_0x3956a8[_0xa3e5('0x4f')],_0x2692ff[_0xa3e5('0x2a')]=!0x0,_0x2692ff[_0xa3e5('0x2f')]({'attributes':{'class':_0xa3e5('0x21')}}),_0x2692ff[_0xa3e5('0x22')](_0xa3e5('0x49'))['to'](this['_model'],_0xa3e5('0x5b'),_0x8790e3=>!_0x8790e3),_0x2692ff[_0xa3e5('0x22')]('isVisible')['to'](this[_0xa3e5('0x56')],_0xa3e5('0x58')),_0x2692ff['on'](_0xa3e5('0xe'),()=>this['switchToEditMode']()),_0x2692ff;}[_0xa3e5('0x47')](){const _0x5498e7=new _0x2f0860(this['locale']);return _0x5498e7[_0xa3e5('0x48')]=_0x5e1084(this['locale'],_0xa3e5('0x1e')),_0x5498e7[_0xa3e5('0x2')]=_0x27b608,_0x5498e7[_0xa3e5('0x2a')]=!0x0,_0x5498e7[_0xa3e5('0x2f')]({'attributes':{'class':'ck-comment--remove'}}),_0x5498e7[_0xa3e5('0x22')]('isEnabled')['to'](this[_0xa3e5('0x56')],_0xa3e5('0x5b'),_0x76cfb9=>!_0x76cfb9),_0x5498e7['bind']('isVisible')['to'](this[_0xa3e5('0x56')],_0xa3e5('0x1a')),_0x5498e7['on']('execute',()=>{this[_0xa3e5('0x43')](_0x5e1084(this[_0xa3e5('0x17')],_0xa3e5('0x26')),this[_0xa3e5('0x31')])[_0xa3e5('0xd')](()=>{this[_0xa3e5('0x10')](_0xa3e5('0x30'),this['_model']['id']);});}),_0x5498e7;}['_createDropdown'](){const _0xc3a15=_0x5e6e08(this[_0xa3e5('0x17')]),_0x4471c5=_0xc3a15[_0xa3e5('0x18')]['children'],_0x16a338=new _0x128d99(this[_0xa3e5('0x17')]),_0x480418=(_0xd8a20d,_0x381289=-0x1)=>{const _0x7404f7=new _0x128197(this[_0xa3e5('0x17')]);_0x7404f7[_0xa3e5('0x1')]['add'](_0xd8a20d);const _0x567617=_0x381289>-0x1?_0x381289:_0x16a338[_0xa3e5('0x35')][_0xa3e5('0x2e')];_0x16a338[_0xa3e5('0x35')]['add'](_0x7404f7,_0x567617),_0xc3a15['listenTo'](_0xd8a20d,_0xa3e5('0x40'),()=>{_0xc3a15[_0xa3e5('0x49')]=[...this['items']][_0xa3e5('0x38')](_0x5e047e=>_0x5e047e[_0xa3e5('0x49')]);}),_0xc3a15[_0xa3e5('0x7')](_0xd8a20d,'change:isVisible',()=>{_0xc3a15[_0xa3e5('0x4c')][_0xa3e5('0x12')]=[...this[_0xa3e5('0x35')]]['some'](_0x25aac9=>_0x25aac9['isVisible']);});};_0xc3a15[_0xa3e5('0x0')]='sw',_0xc3a15[_0xa3e5('0x4c')]['set']({'label':_0x5e1084(this[_0xa3e5('0x17')],_0xa3e5('0x28')),'icon':_0x3956a8['threeVerticalDots']}),_0xc3a15[_0xa3e5('0x49')]=[...this['items']][_0xa3e5('0x38')](_0x3cfd9b=>_0x3cfd9b['isEnabled']),_0xc3a15['buttonView']['isVisible']=[...this['items']][_0xa3e5('0x38')](_0x4b142f=>_0x4b142f[_0xa3e5('0x12')]);for(const _0x3507cf of this['items'])_0x480418(_0x3507cf);return _0x4471c5[_0xa3e5('0x54')](_0x16a338),_0xc3a15['listenTo'](this['items'],_0xa3e5('0x54'),(_0x262732,_0x300b0c,_0x38a766)=>{_0x480418(_0x300b0c,_0x38a766);}),_0xc3a15['listenTo'](this[_0xa3e5('0x35')],_0xa3e5('0x3a'),(_0x4c2c36,_0x31c472,_0x16c86b)=>{_0x16a338[_0xa3e5('0x35')][_0xa3e5('0x3a')](_0x16c86b);}),_0xc3a15;}['_attachActions'](_0x34231e,_0x4d4e6d){const _0xb2c144=_0x34231e&&_0x34231e['element'];_0xb2c144&&(this['listenTo'](_0xb2c144,_0xa3e5('0x23'),()=>this[_0xa3e5('0x1d')]=_0x4d4e6d),this[_0xa3e5('0x7')](_0xb2c144,_0xa3e5('0x8'),()=>this['actionIndicator']=_0x4d4e6d),this[_0xa3e5('0x7')](_0xb2c144,'mouseleave',()=>this[_0xa3e5('0x1d')]=null),this[_0xa3e5('0x7')](_0xb2c144,_0xa3e5('0x53'),()=>this[_0xa3e5('0x1d')]=null));}[_0xa3e5('0x1f')](){const _0x1f45d4=super[_0xa3e5('0x1f')]();return _0x1f45d4['bind'](_0xa3e5('0x19'))['to'](this),_0x1f45d4;}[_0xa3e5('0x50')](){return _0xa3e5('0x4b')===this[_0xa3e5('0x56')]['attributes'][_0xa3e5('0x5a')][_0xa3e5('0x2b')]?_0x5e1084(this[_0xa3e5('0x17')],_0xa3e5('0x3d')):_0x5e1084(this['locale'],'EXTERNAL_COMMENT');}['getUserViewNotificationText'](){return this[_0xa3e5('0x56')][_0xa3e5('0xb')]?_0xa3e5('0x4b')===this[_0xa3e5('0x56')]['attributes'][_0xa3e5('0x5a')][_0xa3e5('0x2b')]?_0x5e1084(this['locale'],_0xa3e5('0x13'),this[_0xa3e5('0x56')]['creator'][_0xa3e5('0x55')]):_0x5e1084(this[_0xa3e5('0x17')],_0xa3e5('0x3b'),this[_0xa3e5('0x56')]['creator']['name']):null;}[_0xa3e5('0x3e')](){super['render'](),this['_attachActions'](this[_0xa3e5('0x3c')],_0xa3e5('0x16')),this[_0xa3e5('0x59')](this[_0xa3e5('0x34')],_0xa3e5('0x3a'));}}