/*
 *             Copyright (c) 2016 - 2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x1496=['define','listenTo','importWord.commentsStyles','collaboration.channelId','addCommentThread','forEach','config','high','execute','collaboration_features','importWord','_handleImportedData','editor','commands','get'];(function(_0x5163f2,_0x149636){const _0xd7ab3d=function(_0x563017){while(--_0x563017){_0x5163f2['push'](_0x5163f2['shift']());}};_0xd7ab3d(++_0x149636);}(_0x1496,0x1ba));const _0xd7ab=function(_0x5163f2,_0x149636){_0x5163f2=_0x5163f2-0x0;let _0xd7ab3d=_0x1496[_0x5163f2];return _0xd7ab3d;};import{Plugin as _0x130cdc}from'ckeditor5/src/core';import{priorities as _0x59de31}from'ckeditor5/src/utils';import{Users as _0x4730ae}from'ckeditor5-collaboration/src/collaboration-core';import _0x99d2fb from'../commentsrepository';export default class Y extends _0x130cdc{constructor(_0x3e858d){super(_0x3e858d),this[_0xd7ab('0x5')][_0xd7ab('0xe')][_0xd7ab('0x8')]('importWord.commentsStyles','basic');}['afterInit'](){const _0x2c75ef=this[_0xd7ab('0x5')],_0x3adf52=_0x2c75ef[_0xd7ab('0x6')][_0xd7ab('0x7')]('importWord'),_0x5a026b=_0x2c75ef['plugins'][_0xd7ab('0x7')](_0x4730ae);_0x3adf52&&(_0x3adf52['on'](_0xd7ab('0x1'),(_0x313394,[,_0x261e94])=>{_0x261e94[_0xd7ab('0x2')]={'comments':!0x0,'user_id':_0x5a026b['me']['id'],'comments_styles':this['editor']['config'][_0xd7ab('0x7')](_0xd7ab('0xa'))};},{'priority':_0x59de31[_0xd7ab('0x0')]+0xa}),this[_0xd7ab('0x9')](_0x3adf52,'dataInsert',this[_0xd7ab('0x4')]));}[_0xd7ab('0x4')](_0x1780e8,_0x521a24){const {comment_threads:_0x177994}=_0x521a24;_0x177994&&_0x177994[_0xd7ab('0xd')](({thread_id:_0x4c7516,comments:_0x5b1002})=>{const _0x518015=_0x5b1002['map'](({author:_0x1e277e,content:_0x37b7e9,created_at:_0x36f97d})=>({'content':_0x37b7e9,'authorId':this[_0xd7ab('0x5')]['plugins'][_0xd7ab('0x7')](_0x4730ae)['me']['id'],'createdAt':new Date(),'attributes':{'@external':{'authorName':_0x1e277e,'createdAt':_0x36f97d?new Date(_0x36f97d):new Date(),'source':_0xd7ab('0x3')}}})),_0x4aca7=this[_0xd7ab('0x5')][_0xd7ab('0xe')][_0xd7ab('0x7')](_0xd7ab('0xb'));this[_0xd7ab('0x5')]['plugins'][_0xd7ab('0x7')](_0x99d2fb)[_0xd7ab('0xc')]({'channelId':_0x4aca7,'threadId':_0x4c7516,'comments':_0x518015,'isSubmitted':!0x0});});}}