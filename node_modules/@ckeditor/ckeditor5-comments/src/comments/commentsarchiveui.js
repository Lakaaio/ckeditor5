/*
 *             Copyright (c) 2016 - 2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x1fc8=['listenTo','getByInnerView','children','COMMENTS_ARCHIVE','Annotations','editor','panelView','add','requires','componentFactory','_createArchiveUIDropdown','commentsArchiveView','annotationViews','CommentsRepository','isVisible','buttonView','_threadToController','view','change:isVisible','get','config','resolvedThreads','stopListening','locale','init','CommentsArchiveUI','collaboration.channelId','commentsArchive'];(function(_0x521cc6,_0x1fc8ce){const _0x4021ba=function(_0x63af71){while(--_0x63af71){_0x521cc6['push'](_0x521cc6['shift']());}};_0x4021ba(++_0x1fc8ce);}(_0x1fc8,0x1bd));const _0x4021=function(_0x521cc6,_0x1fc8ce){_0x521cc6=_0x521cc6-0x0;let _0x4021ba=_0x1fc8[_0x521cc6];return _0x4021ba;};import'../../theme/commentsarchive.css';import{Plugin as _0x4df4fc}from'ckeditor5/src/core';import{createDropdown as _0x3b561c,ViewCollection as _0x127f58}from'ckeditor5/src/ui';import _0x12aca8 from'../../theme/icons/comments-archive.svg';import{getTranslation as _0x241bea}from'../utils/common-translations';import _0x156959 from'./ui/view/commentsarchiveview';import _0x191065 from'./commentsarchive';export default class a extends _0x4df4fc{static get['pluginName'](){return _0x4021('0x0');}static get[_0x4021('0xb')](){return[_0x191065];}constructor(_0x5645ab){super(_0x5645ab),this['annotationViews']=new _0x127f58();}[_0x4021('0x1b')](){this['editor']['ui'][_0x4021('0xc')][_0x4021('0xa')](_0x4021('0x2'),()=>this[_0x4021('0xd')]());const _0x31de09=this['editor']['plugins'][_0x4021('0x16')](_0x191065),_0x25df5a=this[_0x4021('0x8')]['plugins'][_0x4021('0x16')](_0x4021('0x7')),_0x28c89d=this[_0x4021('0x8')]['plugins']['get'](_0x4021('0x10'));this['listenTo'](_0x31de09[_0x4021('0x18')],_0x4021('0xa'),(_0x2dffb3,_0x274068,_0x45e441)=>{const _0x26b67e=this[_0x4021('0x8')]['config']['get'](_0x4021('0x1'));if(!_0x26b67e||_0x274068['channelId']===_0x26b67e){const _0x286e35=_0x28c89d[_0x4021('0x13')][_0x4021('0x16')](_0x274068),_0x15c2a9=_0x25df5a['getByInnerView'](_0x286e35[_0x4021('0x14')]);_0x15c2a9[_0x4021('0x11')]?this[_0x4021('0x3')](_0x15c2a9,_0x4021('0x15'),(_0x4b277f,_0x3103db,_0x4c63e9)=>{_0x4c63e9||(this['annotationViews'][_0x4021('0xa')](_0x15c2a9[_0x4021('0x14')],_0x45e441),this[_0x4021('0x19')](_0x15c2a9));}):this['annotationViews'][_0x4021('0xa')](_0x15c2a9['view'],_0x45e441);}}),this[_0x4021('0x3')](_0x31de09[_0x4021('0x18')],'remove',(_0x35d139,_0x553e0c)=>{const _0x244a6c=this[_0x4021('0x8')][_0x4021('0x17')][_0x4021('0x16')](_0x4021('0x1'));if(!_0x244a6c||_0x553e0c['channelId']===_0x244a6c){const _0x2f8bab=_0x28c89d[_0x4021('0x13')][_0x4021('0x16')](_0x553e0c),_0x4689f4=_0x25df5a[_0x4021('0x4')](_0x2f8bab['view'])[_0x4021('0x14')];this[_0x4021('0xf')]['remove'](_0x4689f4);}});}[_0x4021('0xd')](){const _0x35d420=this[_0x4021('0x8')],_0x318af6=_0x3b561c(_0x35d420[_0x4021('0x1a')]);return _0x318af6[_0x4021('0x12')]['set']({'icon':_0x12aca8,'label':_0x241bea(_0x35d420[_0x4021('0x1a')],_0x4021('0x6')),'tooltip':!0x0}),_0x318af6['on']('change:isOpen',()=>{this[_0x4021('0xe')]||(this[_0x4021('0xe')]=new _0x156959(_0x35d420[_0x4021('0x1a')],this[_0x4021('0xf')]),_0x318af6[_0x4021('0x9')][_0x4021('0x5')][_0x4021('0xa')](this['commentsArchiveView']));}),_0x318af6;}}