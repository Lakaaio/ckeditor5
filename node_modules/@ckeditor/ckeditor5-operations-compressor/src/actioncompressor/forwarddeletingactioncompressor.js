/*
 *             Copyright (c) 2016 - 2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x58cc=['sourcePosition','_compareOperations','root','__className','howMany','MoveOperation','buffers','_getCompressorByName','decompress','_checkOperation','_combineNext','_context','wasUndone','_splitCurrent','$graveyard'];(function(_0x304670,_0x58cc10){const _0x516d02=function(_0x1affe7){while(--_0x1affe7){_0x304670['push'](_0x304670['shift']());}};_0x516d02(++_0x58cc10);}(_0x58cc,0x12e));const _0x516d=function(_0x304670,_0x58cc10){_0x304670=_0x304670-0x0;let _0x516d02=_0x58cc[_0x304670];return _0x516d02;};import _0x255b4c from'./actioncompressor';import{arePositionsEqual as _0x34d832}from'../utils';import{cloneDeep as _0x4afb88}from'lodash-es';export default class h extends _0x255b4c{[_0x516d('0x8')](_0x3b8785,_0x4b3db1){return _0x4b3db1[_0x516d('0x2')]++,_0x4b3db1;}[_0x516d('0xb')](_0x2c5589){const _0x222a91=_0x4afb88(_0x2c5589);return _0x222a91['howMany']=0x1,_0x2c5589[_0x516d('0x2')]--,_0x222a91;}[_0x516d('0xe')](_0x5e541d,_0x5525bc){return!(!this[_0x516d('0x7')](_0x5e541d)||!this['_checkOperation'](_0x5525bc))&&(_0x34d832(_0x5e541d[_0x516d('0xd')],_0x5525bc[_0x516d('0xd')])&&_0x34d832(_0x5e541d['targetPosition'],_0x5525bc['targetPosition']));}['_compressSingleOperation'](_0x22e837){const _0x4749fa={'types':[],'buffers':[],'baseVersion':0x0};return this[_0x516d('0x9')][_0x516d('0x5')](_0x516d('0x3'))['compress'](_0x4749fa,[_0x22e837]),_0x4749fa[_0x516d('0x4')][0x0];}['_decompressSingleOperation'](_0x245978){const _0x3aeee3=[];return this['_context']['_getCompressorByName'](_0x516d('0x3'))[_0x516d('0x6')](_0x3aeee3,_0x245978),_0x3aeee3[0x0];}[_0x516d('0x7')](_0x5771ad){return _0x516d('0x3')==_0x5771ad[_0x516d('0x1')]&&_0x516d('0xc')==_0x5771ad['targetPosition'][_0x516d('0x0')]&&0x1==_0x5771ad['howMany']&&!_0x5771ad[_0x516d('0xa')];}}