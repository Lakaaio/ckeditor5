/*
 *             Copyright (c) 2016 - 2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x21ab=['_compressSingleOperation','start','buffers','name','MarkerOperation','_decompressSingleOperation','push','decompress','_context','compress','_getCompressorByName','startsWith','shift','types','stickiness','oldRange','newRange','user:position:','_id','__className','toNone','user:','_compareOperations','end'];(function(_0x35845e,_0x21ab23){const _0x3a25c9=function(_0x5ec61d){while(--_0x5ec61d){_0x35845e['push'](_0x35845e['shift']());}};_0x3a25c9(++_0x21ab23);}(_0x21ab,0x145));const _0x3a25=function(_0x35845e,_0x21ab23){_0x35845e=_0x35845e-0x0;let _0x3a25c9=_0x21ab[_0x35845e];return _0x3a25c9;};import _0x58a9ed from'./actioncompressor';import{arePositionsEqual as _0x3f7e3e}from'../utils';import{cloneDeep as _0x43cfa0}from'lodash-es';export default class f extends _0x58a9ed{['compress'](_0x310682,_0x517df5){if(!this[_0x3a25('0x9')](_0x517df5[0x0],_0x517df5[0x1]))return!0x1;const _0x46a266=_0x517df5[_0x3a25('0x17')]();return _0x46a266[_0x3a25('0x2')]=null,_0x46a266['newRange']&&_0x3f7e3e(_0x46a266[_0x3a25('0x3')][_0x3a25('0xc')],_0x46a266[_0x3a25('0x3')][_0x3a25('0xa')])&&(_0x46a266[_0x3a25('0x3')][_0x3a25('0xa')]=null),_0x517df5[_0x3a25('0x17')](),_0x310682[_0x3a25('0x0')]['push'](this[_0x3a25('0x5')]),_0x310682[_0x3a25('0x0')][_0x3a25('0x11')](0x0),_0x310682[_0x3a25('0xd')]['push'](this[_0x3a25('0xb')](_0x46a266)),!0x0;}['decompress'](_0x1cca8d,_0x53efdb){const _0x28faa4=this['_decompressSingleOperation'](_0x53efdb);_0x28faa4[_0x3a25('0x3')]&&!_0x28faa4[_0x3a25('0x3')][_0x3a25('0xa')]&&(_0x28faa4['newRange'][_0x3a25('0xa')]=_0x43cfa0(_0x28faa4['newRange'][_0x3a25('0xc')]));const _0x121cd0=_0x43cfa0(_0x28faa4);_0x121cd0[_0x3a25('0x3')]&&(_0x121cd0[_0x3a25('0x3')]['start'][_0x3a25('0x1')]=_0x3a25('0x7'),_0x121cd0[_0x3a25('0x3')][_0x3a25('0xa')]=_0x43cfa0(_0x121cd0[_0x3a25('0x3')][_0x3a25('0xc')])),_0x121cd0['name']=_0x3a25('0x4')+_0x121cd0[_0x3a25('0xe')]['split'](':')[0x2],_0x53efdb[_0x3a25('0x0')][_0x3a25('0x17')](),_0x1cca8d[_0x3a25('0x11')](_0x28faa4),_0x1cca8d[_0x3a25('0x11')](_0x121cd0);}[_0x3a25('0xb')](_0x2f9e44){const _0x4912d6={'types':[],'buffers':[],'baseVersion':0x0};return this['_context'][_0x3a25('0x15')](_0x3a25('0xf'))[_0x3a25('0x14')](_0x4912d6,[_0x2f9e44]),_0x4912d6[_0x3a25('0xd')][0x0];}[_0x3a25('0x10')](_0x20fee1){const _0x54495f=[];return this[_0x3a25('0x13')][_0x3a25('0x15')](_0x3a25('0xf'))[_0x3a25('0x12')](_0x54495f,_0x20fee1),_0x54495f[0x0];}[_0x3a25('0x9')](_0x1a6efb,_0x35bd34){return!(!_0x1a6efb||!_0x35bd34)&&(_0x3a25('0xf')==_0x1a6efb[_0x3a25('0x6')]&&_0x3a25('0xf')==_0x35bd34[_0x3a25('0x6')]&&!(!_0x1a6efb[_0x3a25('0xe')][_0x3a25('0x16')](_0x3a25('0x8'))||!_0x35bd34[_0x3a25('0xe')][_0x3a25('0x16')](_0x3a25('0x8'))||_0x1a6efb[_0x3a25('0xe')]==_0x35bd34[_0x3a25('0xe')]));}}