/*
 *             Copyright (c) 2016 - 2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x307e=['__className','sourcePosition','_getCompressorByName','MoveOperation','_context','targetPosition','_decompressSingleOperation','root','howMany','_compareOperations','buffers','_compressSingleOperation','decompress','_checkOperation','_splitCurrent'];(function(_0x41f82a,_0x307e90){const _0x14bef6=function(_0x1c2443){while(--_0x1c2443){_0x41f82a['push'](_0x41f82a['shift']());}};_0x14bef6(++_0x307e90);}(_0x307e,0x179));const _0x14be=function(_0x41f82a,_0x307e90){_0x41f82a=_0x41f82a-0x0;let _0x14bef6=_0x307e[_0x41f82a];return _0x14bef6;};import _0x5eeb7b from'./actioncompressor';import{arePositionsEqual as _0xf884b1,getPositionShiftedBy as _0x9eaa91}from'../utils';import{cloneDeep as _0x582715}from'lodash-es';export default class c extends _0x5eeb7b{['_combineNext'](_0x172f05,_0x49b85b){return _0x49b85b[_0x14be('0x6')]++,_0x49b85b[_0x14be('0xe')]=_0x582715(_0x172f05['sourcePosition']),_0x49b85b;}[_0x14be('0xc')](_0x4a945f){const _0x54c729=_0x582715(_0x4a945f);return _0x4a945f[_0x14be('0x6')]--,_0x54c729[_0x14be('0x6')]=0x1,_0x54c729['sourcePosition']=_0x9eaa91(_0x54c729[_0x14be('0xe')],_0x4a945f[_0x14be('0x6')]),_0x54c729;}[_0x14be('0x7')](_0x424817,_0x5c510f){return!(!this[_0x14be('0xb')](_0x424817)||!this[_0x14be('0xb')](_0x5c510f))&&(_0xf884b1(_0x9eaa91(_0x424817[_0x14be('0xe')],-0x1),_0x5c510f[_0x14be('0xe')])&&_0xf884b1(_0x424817[_0x14be('0x3')],_0x5c510f[_0x14be('0x3')]));}[_0x14be('0x9')](_0x3a0421){const _0x259781={'types':[],'buffers':[],'baseVersion':0x0};return this['_context'][_0x14be('0x0')](_0x14be('0x1'))['compress'](_0x259781,[_0x3a0421]),_0x259781[_0x14be('0x8')][0x0];}[_0x14be('0x4')](_0x140eaa){const _0x22f3dc=[];return this[_0x14be('0x2')]['_getCompressorByName'](_0x14be('0x1'))[_0x14be('0xa')](_0x22f3dc,_0x140eaa),_0x22f3dc[0x0];}['_checkOperation'](_0x137807){return _0x14be('0x1')==_0x137807[_0x14be('0xd')]&&'$graveyard'==_0x137807['targetPosition'][_0x14be('0x5')]&&0x1==_0x137807[_0x14be('0x6')]&&!_0x137807['wasUndone'];}}