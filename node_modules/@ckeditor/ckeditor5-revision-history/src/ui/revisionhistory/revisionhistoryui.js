/*
 *             Copyright (c) 2016 - 2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x16c8=['isEnabled','render','pluginName','showRevisionViewerCallback','Revision\x20history','set','revisionHistory','change:isOpen','length','requires','Open\x20revision\x20history','cancel','view','componentFactory','get','isReady','buttonView','focus','add','isOpen','init','panelView','plugins','execute','config','isReadOnly','bind','RevisionHistoryUI','submit','addMany','saveButtonView','items','reset','children','remove'];(function(_0x557848,_0x16c875){const _0x183125=function(_0x59c5b6){while(--_0x59c5b6){_0x557848['push'](_0x557848['shift']());}};_0x183125(++_0x16c875);}(_0x16c8,0x1cb));const _0x1831=function(_0x557848,_0x16c875){_0x557848=_0x557848-0x0;let _0x183125=_0x16c8[_0x557848];return _0x183125;};import{Plugin as _0x2f8305}from'ckeditor5/src/core';import{ListView as _0x2209cd,ListItemView as _0x310b50,ButtonView as _0x2121a1,createDropdown as _0x366f81}from'ckeditor5/src/ui';import _0x5665ec from'../../revisiontracker';import _0x40b471 from'./revisionhistorysaverevisionformview';import _0x4dfd0f from'../../../theme/icons/revision-history.svg';import{getTranslation as _0x468117}from'../../utils/common-translations';export default class u extends _0x2f8305{static get[_0x1831('0x21')](){return _0x1831('0x17');}static get[_0x1831('0x5')](){return[_0x5665ec];}[_0x1831('0x10')](){const _0x385c68=this['editor'],_0x2d558c=_0x385c68[_0x1831('0x12')]['get']('RevisionTracker');_0x385c68['ui'][_0x1831('0x9')][_0x1831('0xe')](_0x1831('0x2'),_0x24db32=>{const _0x21c090=_0x366f81(_0x24db32),_0x534e67=_0x21c090[_0x1831('0x11')]['children'],_0x62853b=new _0x2209cd(_0x24db32),_0x4d3a62=new _0x310b50(_0x24db32),_0x4a51fc=new _0x2121a1(_0x24db32),_0x4dd684=new _0x310b50(_0x24db32),_0x24f5ba=new _0x2121a1(_0x24db32),_0x30207c=new _0x40b471(_0x24db32);function _0x333eec(){_0x534e67[_0x1831('0x4')]&&_0x534e67[_0x1831('0x1e')](0x0),_0x534e67[_0x1831('0xe')](_0x62853b);}function _0x1a5d85(){_0x21c090[_0x1831('0xf')]=!0x1,_0x385c68['editing'][_0x1831('0x8')][_0x1831('0xd')]();}return _0x21c090[_0x1831('0x16')](_0x1831('0x1f'))['to'](_0x2d558c,_0x1831('0xb'),_0x2d558c,_0x1831('0x1f'),_0x385c68,_0x1831('0x15'),(_0x22981a,_0x37cdf8,_0x5e2471)=>_0x22981a&&_0x37cdf8&&!_0x5e2471),_0x21c090[_0x1831('0xc')]['set']({'icon':_0x4dfd0f,'label':_0x468117(_0x24db32,_0x1831('0x0')),'tooltip':!0x0}),_0x4a51fc[_0x1831('0x1')]({'label':_0x468117(_0x24db32,'Save\x20current\x20revision'),'withText':!0x0}),_0x4a51fc['bind'](_0x1831('0x1f'))['to'](_0x2d558c,'isReady',_0x2d558c,'isEnabled',_0x385c68,_0x1831('0x15'),(_0x209e16,_0x37c15d,_0x81a351)=>_0x209e16&&_0x37c15d&&!_0x81a351),_0x4a51fc['on']('execute',()=>function(){_0x534e67[_0x1831('0x4')]&&_0x534e67[_0x1831('0x1e')](0x0),(_0x30207c[_0x1831('0x1c')](),_0x534e67[_0x1831('0xe')](_0x30207c),_0x30207c[_0x1831('0xd')]());}()),_0x24f5ba[_0x1831('0x1')]({'label':_0x468117(_0x24db32,_0x1831('0x6')),'withText':!0x0}),_0x24f5ba[_0x1831('0x16')](_0x1831('0x1f'))['to'](_0x2d558c,'isReady',_0x385c68,'isReadOnly',(_0x175824,_0xeee686)=>_0x175824&&!_0xeee686),_0x24f5ba['on'](_0x1831('0x13'),()=>{_0x385c68[_0x1831('0x14')][_0x1831('0xa')](_0x1831('0x2'))[_0x1831('0x22')](),_0x1a5d85();}),_0x4d3a62['children'][_0x1831('0xe')](_0x4a51fc),_0x4dd684[_0x1831('0x1d')]['add'](_0x24f5ba),_0x62853b[_0x1831('0x1b')][_0x1831('0x19')]([_0x4d3a62,_0x4dd684]),_0x21c090['on'](_0x1831('0x3'),()=>_0x333eec()),_0x30207c[_0x1831('0x1a')][_0x1831('0x16')]('isEnabled')['to'](_0x2d558c,'isReady',_0x2d558c,_0x1831('0x1f'),_0x385c68,_0x1831('0x15'),(_0x73ee37,_0x57eb01,_0x529012)=>_0x73ee37&&_0x57eb01&&!_0x529012),_0x30207c['on'](_0x1831('0x18'),()=>(_0x385c68[_0x1831('0x12')][_0x1831('0xa')](_0x5665ec)['saveRevision']({'name':_0x30207c['revisionName']}),void _0x1a5d85())),_0x30207c['on'](_0x1831('0x7'),()=>_0x333eec()),_0x30207c[_0x1831('0x20')](),_0x333eec(),_0x21c090;});}}