/*
 *             Copyright (c) 2016 - 2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x3687=['getLaterVisibleRevision','defaultRevisionActions','fieldView','compare','pluginName','restoreRevision','revisionSetName','highlightRevisions','Compare\x20against\x20selected','repository','revisionHistory.viewerSidebarContainer','compareAgainstSelected','_handleRevisionSelected','restoreRevisionCallback','requires','isVisible','editor','availableRevisionActions','RevisionsSidebar','getEarlierVisibleRevision','setName','change:diff','isSelected','ready','_revisionViewer','_revisions','init','_handleDiffChange','_handleRevisionSetName','isEnabled','config','data','newRevisionId','element','diff','_sidebarView','render','length','getIndex','plugins','Name\x20this\x20revision','select','add','nameRevision','focus','action','bind','remove','Restore\x20this\x20revision','_createRevisionActions','getRevisionsInDiff','getRevision','_revisionsRepository','locale','get','_handleEditorDataReady','destroy'];(function(_0x45ddbb,_0x368734){const _0x15b804=function(_0x164760){while(--_0x164760){_0x45ddbb['push'](_0x45ddbb['shift']());}};_0x15b804(++_0x368734);}(_0x3687,0x189));const _0x15b8=function(_0x45ddbb,_0x368734){_0x45ddbb=_0x45ddbb-0x0;let _0x15b804=_0x3687[_0x45ddbb];return _0x15b804;};import{Plugin as _0xb6f079}from'ckeditor5/src/core';import _0x5edb21 from'./revisionssidebarview';import _0x2dfa87 from'../../revisionviewer';export default class d extends _0xb6f079{static get[_0x15b8('0xa')](){return _0x15b8('0x18');}static get[_0x15b8('0x14')](){return[_0x2dfa87];}constructor(_0x4ef3a0){super(_0x4ef3a0),this[_0x15b8('0x1e')]=_0x4ef3a0[_0x15b8('0x2d')]['get'](_0x2dfa87),this[_0x15b8('0x1')]=this[_0x15b8('0x1e')][_0x15b8('0xf')],this[_0x15b8('0x29')]=null;}[_0x15b8('0x20')](){const _0x288959=this[_0x15b8('0x1')][_0x15b8('0x1f')],_0x28b7b2=this[_0x15b8('0x37')](),_0x34040d=this[_0x15b8('0x16')][_0x15b8('0x24')][_0x15b8('0x3')](_0x15b8('0x10'));this[_0x15b8('0x29')]=new _0x5edb21(this[_0x15b8('0x16')][_0x15b8('0x2')],_0x288959,_0x28b7b2),this[_0x15b8('0x29')]['on']('revisionSelected',this[_0x15b8('0x12')]['bind'](this)),this[_0x15b8('0x29')]['on'](_0x15b8('0xc'),this[_0x15b8('0x22')][_0x15b8('0x34')](this)),this[_0x15b8('0x29')][_0x15b8('0x34')]('isEnabled')['to'](this[_0x15b8('0x1e')]),this[_0x15b8('0x29')]['timePeriodViews']['on']('add',(_0x960f4,_0x46689e)=>{_0x46689e['revisionViews']['on'](_0x15b8('0x30'),(_0x4a1bfc,_0x39a56e)=>{_0x39a56e[_0x15b8('0x34')](_0x15b8('0x23'),'isReady')['to'](this['_revisionViewer']);});}),this[_0x15b8('0x29')][_0x15b8('0x2a')](),this['listenTo'](this[_0x15b8('0x16')][_0x15b8('0x25')],_0x15b8('0x1d'),this[_0x15b8('0x4')]['bind'](this)),this['listenTo'](this[_0x15b8('0x1e')],_0x15b8('0x1b'),this[_0x15b8('0x21')]['bind'](this)),_0x34040d['appendChild'](this[_0x15b8('0x29')][_0x15b8('0x27')]);}[_0x15b8('0x5')](){this[_0x15b8('0x29')][_0x15b8('0x27')][_0x15b8('0x35')](),this['_sidebarView'][_0x15b8('0x5')]();}[_0x15b8('0x4')](){const _0x595533=this[_0x15b8('0x1')][_0x15b8('0x0')](0x0);if(_0x595533){const _0x1a7c28=this[_0x15b8('0x1')]['getEarlierVisibleRevision'](_0x595533['id']);this[_0x15b8('0x1e')][_0x15b8('0x9')](_0x595533,_0x1a7c28);}}['_handleRevisionSelected'](_0x5efa3a,_0xe35f6f){const _0x2baa1a=this['_revisionsRepository'][_0x15b8('0x0')](_0xe35f6f['id']),_0x3900a2=this[_0x15b8('0x1')][_0x15b8('0x19')](_0x2baa1a['id']);this[_0x15b8('0x1e')][_0x15b8('0x9')](_0x2baa1a,_0x3900a2);}['_handleRevisionSetName'](_0x42fb28,_0x49c4a0){this[_0x15b8('0x1')]['getRevision'](_0x49c4a0['id'])[_0x15b8('0x1a')](_0x49c4a0['name']);}[_0x15b8('0x21')](_0x284d7f,_0x1931d4,_0x4c2450){const _0x3190d9=this[_0x15b8('0x1')][_0x15b8('0x38')](_0x4c2450);_0x3190d9['length']>0x2?(this[_0x15b8('0x29')][_0x15b8('0xd')](_0x3190d9),this['_sidebarView']['selectRevision'](null)):(this[_0x15b8('0x29')][_0x15b8('0xd')]([]),this[_0x15b8('0x29')]['selectRevision'](_0x3190d9[0x0]));}[_0x15b8('0x37')](){const _0x8f3a5c=this[_0x15b8('0x16')],_0x13a475=d[_0x15b8('0x17')],_0x3713bc=_0x8f3a5c['config']['get']('revisionHistory.revisionActions')||d['defaultRevisionActions'];if(_0x3713bc[_0x15b8('0x2b')])return _0x3713bc['map'](_0x4dc29a=>{const _0x14460e='string'==typeof _0x4dc29a?Object['assign']({},_0x13a475[_0x4dc29a]):_0x4dc29a;return _0x14460e[_0x15b8('0x33')]=_0x14460e[_0x15b8('0x33')][_0x15b8('0x34')](this,_0x8f3a5c),_0x14460e[_0x15b8('0x15')]&&(_0x14460e[_0x15b8('0x15')]=_0x14460e[_0x15b8('0x15')][_0x15b8('0x34')](this,_0x8f3a5c)),_0x14460e;});}}d[_0x15b8('0x17')]={'compareAgainstSelected':{'name':_0x15b8('0xe'),'action':({plugins:_0x54727b},_0x40aa8d)=>{const _0x817950=_0x54727b['get'](_0x2dfa87),_0x4cbce9=_0x817950[_0x15b8('0xf')];let _0x319fdd=_0x817950[_0x15b8('0x28')][_0x15b8('0x26')],_0x5e9259=_0x40aa8d['id'];_0x4cbce9[_0x15b8('0x2c')](_0x319fdd)>_0x4cbce9['getIndex'](_0x5e9259)&&([_0x319fdd,_0x5e9259]=[_0x5e9259,_0x319fdd]),_0x817950[_0x15b8('0x9')](_0x319fdd,_0x5e9259);},'isVisible':({plugins:_0x46718c},_0x4aa888)=>{const _0x5707bf=_0x46718c['get'](_0x2dfa87);return!(_0x5707bf[_0x15b8('0xf')][_0x15b8('0x38')](_0x5707bf['diff'])[_0x15b8('0x2b')]>0x2)&&!_0x4aa888[_0x15b8('0x1c')];}},'restoreRevision':{'name':_0x15b8('0x36'),'action':(_0x2a7b4e,{id:_0x4a5770})=>{_0x2a7b4e[_0x15b8('0x24')][_0x15b8('0x3')]('revisionHistory')[_0x15b8('0x13')](_0x4a5770);},'isVisible':({plugins:_0x4004d8},_0x4811cc)=>!!_0x4004d8[_0x15b8('0x3')](_0x2dfa87)[_0x15b8('0xf')][_0x15b8('0x6')](_0x4811cc['id'])},'nameRevision':{'name':_0x15b8('0x2e'),'action':({plugins:_0x4a8f06},{id:_0x448600,revisionNameView:_0x43dc0f})=>{const _0x46b674=_0x4a8f06[_0x15b8('0x3')](_0x2dfa87),_0x51f6c1=_0x46b674[_0x15b8('0xf')][_0x15b8('0x19')](_0x448600);_0x46b674[_0x15b8('0x9')](_0x448600,_0x51f6c1),_0x43dc0f[_0x15b8('0x32')](),_0x43dc0f[_0x15b8('0x8')][_0x15b8('0x2f')]();}}},d[_0x15b8('0x7')]=[_0x15b8('0x11'),_0x15b8('0xb'),_0x15b8('0x31')];