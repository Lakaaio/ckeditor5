/*
 *             Copyright (c) 2016 - 2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x3cfd=['delegate','startDate','getTime','setName','fire','highlightRevisions','some','addRevision','ck-revision-history-sidebar__timeline','timePeriodViews','createdAt','highlight','revisionSetName','div','render','isEnabled','map','ck-reset','locale','_addRevision','ck-disabled','createCollection','_revisions','uiLanguage','removeRevision','_getTimePeriodViewByStartDate','select','flat','revisionViews','_revisionActions','selectRevision','ck-rounded-corners','deselect','add','revisionSelected','unhighlight'];(function(_0x834123,_0x3cfdd0){const _0x337403=function(_0x483adc){while(--_0x483adc){_0x834123['push'](_0x834123['shift']());}};_0x337403(++_0x3cfdd0);}(_0x3cfd,0x86));const _0x3374=function(_0x834123,_0x3cfdd0){_0x834123=_0x834123-0x0;let _0x337403=_0x3cfd[_0x834123];return _0x337403;};import{View as _0x8f369}from'ckeditor5/src/ui';import _0x1839dc from'./revisionssidebartimeperiodview';import _0x3dab71 from'./revisionssidebarheaderview';import{getDateTimePeriodInfo as _0x3703f4}from'./utils';import'../../../theme/revisionssidebar/revisionssidebar.css';export default class vi extends _0x8f369{constructor(_0x4a5dea,_0x37a1d2,_0x41374c){super(_0x4a5dea);const _0x373446=this['bindTemplate'];this[_0x3374('0x13')]=this[_0x3374('0x1f')](),this[_0x3374('0x13')][_0x3374('0xa')](_0x3374('0x0'))['to'](this),this['timePeriodViews'][_0x3374('0xa')]('setName')['to'](this),this['_revisions']=_0x37a1d2,this[_0x3374('0x3')]=_0x41374c,this['on'](_0x3374('0x0'),(_0x114894,_0x48f6bb)=>{this['fire'](_0x3374('0x8'),_0x48f6bb);}),this['on'](_0x3374('0xd'),(_0x456483,_0xe5f072)=>{this[_0x3374('0xe')](_0x3374('0x16'),_0xe5f072);}),this['set'](_0x3374('0x19'),!0x1),this['setTemplate']({'tag':'div','attributes':{'class':['ck',_0x3374('0x1b'),_0x3374('0x5'),'ck-revision-history-sidebar']},'children':[new _0x3dab71(_0x4a5dea),{'tag':_0x3374('0x17'),'attributes':{'class':['ck',_0x3374('0x12'),_0x373446['if'](_0x3374('0x19'),_0x3374('0x1e'),_0x487b7a=>!_0x487b7a)]},'children':this['timePeriodViews']}]});}['render'](){super[_0x3374('0x18')]();for(const _0x2f0b29 of this[_0x3374('0x20')])this[_0x3374('0x1d')](_0x2f0b29);this[_0x3374('0x20')]['on'](_0x3374('0x7'),(_0x18a162,_0x3953b6)=>{this['_addRevision'](_0x3953b6);}),this[_0x3374('0x20')]['on']('remove',(_0x17d300,_0x2f3c4e)=>{this['_removeRevision'](_0x2f3c4e);});}get['revisionViews'](){return this[_0x3374('0x13')][_0x3374('0x1a')](_0x4699b5=>_0x4699b5['revisionViews'][_0x3374('0x1a')](_0x4052a8=>_0x4052a8))[_0x3374('0x1')]();}[_0x3374('0x4')](_0x3f31de){for(const _0x2e770c of this[_0x3374('0x2')])_0x3f31de&&_0x3f31de['id']===_0x2e770c['id']?_0x2e770c['select']():_0x2e770c[_0x3374('0x6')]();}[_0x3374('0xf')](_0x56437b){for(const _0x4babd5 of this[_0x3374('0x2')])_0x56437b[_0x3374('0x10')](({id:_0x52cf22})=>_0x52cf22===_0x4babd5['id'])?_0x4babd5[_0x3374('0x15')]():_0x4babd5[_0x3374('0x9')]();}[_0x3374('0x1d')](_0x134805){const _0x28ef80=_0x3703f4(_0x134805[_0x3374('0x14')],this[_0x3374('0x1c')][_0x3374('0x21')])[_0x3374('0xb')];let _0x9a8694=this['timePeriodViews']['get'](0x0);_0x9a8694&&_0x9a8694[_0x3374('0xb')][_0x3374('0xc')]()===_0x28ef80['getTime']()||(_0x9a8694=new _0x1839dc(this[_0x3374('0x1c')],_0x28ef80,this['_revisionActions']),this['timePeriodViews'][_0x3374('0x7')](_0x9a8694)),_0x9a8694[_0x3374('0x11')](_0x134805);}['_removeRevision'](_0x581ff3){const _0x281d86=_0x3703f4(_0x581ff3['createdAt'],this['locale'][_0x3374('0x21')])[_0x3374('0xb')];this['_getTimePeriodViewByStartDate'](_0x281d86)[_0x3374('0x22')](_0x581ff3);}[_0x3374('0x23')](_0x41829d){return this[_0x3374('0x13')]['find'](_0x4b545a=>_0x4b545a[_0x3374('0xb')]['getTime']()===_0x41829d[_0x3374('0xc')]());}}