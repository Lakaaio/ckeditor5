/*
 *             Copyright (c) 2016 - 2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x5506=['update','body','auto','pageNumber','values','PaginationLookup','left','PaginationRenderer','change:pageBreaks','addClass','offset','ownerDocument','scrollTop','PaginationEditing','editor','scrollTo','change:isEnabled','_paginationLookupPlugin','roots','_getAttachedDomRoot','change','removeClass','scrollLeft','_getPageBreakLineOffset','_updateEditingRootsClass','showLine','_scrollableEditingRootDomAncestor','bind','ck-pagination_disabled','once','destroy','contains','isEnabled','editing','set','bottom','ready','plugins','getComputedStyle','parentElement','_updatePageBreakLines','listenTo','view','length','window','domRoots','scrollToPage','top','scroll','init','_resizeObserver','cleanLines','_onUiReady','_renderPageBreakLine','excludeScrollbarsAndBorders','_linesRepository'];(function(_0x3f752f,_0x550675){const _0xf88a48=function(_0x355565){while(--_0x355565){_0x3f752f['push'](_0x3f752f['shift']());}};_0xf88a48(++_0x550675);}(_0x5506,0x16e));const _0xf88a=function(_0x3f752f,_0x550675){_0x3f752f=_0x3f752f-0x0;let _0xf88a48=_0x5506[_0x3f752f];return _0xf88a48;};import{Plugin as _0x55b5f9}from'ckeditor5/src/core';import{Rect as _0x4b1101,global as _0x5dc23a,ResizeObserver as _0x395659}from'ckeditor5/src/utils';import _0x77e1fa from'./ui/linesrepository';const L=_0xf88a('0x36');export default class l extends _0x55b5f9{constructor(){super(...arguments),this[_0xf88a('0x34')]=null,this['_resizeObserver']=null;}static get['pluginName'](){return _0xf88a('0x21');}[_0xf88a('0x13')](){this[_0xf88a('0x4')]({'pageNumber':0x1}),this[_0xf88a('0x19')]=new _0x77e1fa(this[_0xf88a('0x28')]),this[_0xf88a('0x34')]=null,this[_0xf88a('0x14')]=null,this[_0xf88a('0x2b')]=this[_0xf88a('0x28')][_0xf88a('0x7')]['get'](_0xf88a('0x1f')),this[_0xf88a('0x35')](_0xf88a('0x2'))['to'](this[_0xf88a('0x28')][_0xf88a('0x7')]['get'](_0xf88a('0x27'))),this['editor']['ui'][_0xf88a('0x37')](_0xf88a('0x6'),()=>this[_0xf88a('0x16')]()),this['on'](_0xf88a('0x2a'),(_0x52044f,_0x4377b6,_0xe0b7ca)=>{_0xe0b7ca||this['_linesRepository']['cleanLines'](),this[_0xf88a('0x32')](_0xe0b7ca);});}[_0xf88a('0x0')](){this[_0xf88a('0x19')][_0xf88a('0x0')](),this[_0xf88a('0x34')]=null,this[_0xf88a('0x14')][_0xf88a('0x0')]();}[_0xf88a('0x10')](_0xd759c4){if(!this[_0xf88a('0x2')])return;const _0xc35a33=_0xd759c4>0x1?this['_getPageBreakLineOffset'](_0xd759c4-0x1):0x0;this[_0xf88a('0x34')][_0xf88a('0x29')]({'top':_0xc35a33-0xa,'left':this['_scrollableEditingRootDomAncestor'][_0xf88a('0x30')],'behavior':'smooth'});}['_onUiReady'](){const _0xfc3fa8=this[_0xf88a('0x28')],_0x5467f8=this['_getAttachedDomRoot']();_0x5467f8?(this['_scrollableEditingRootDomAncestor']=function(_0x309b37){let _0x2867e4=_0x309b37;do{_0x2867e4=_0x2867e4[_0xf88a('0x9')];const _0x6fbcce=_0x5dc23a[_0xf88a('0xe')][_0xf88a('0x8')](_0x2867e4)['overflowY'];if(_0xf88a('0x1c')==_0x6fbcce||_0xf88a('0x12')==_0x6fbcce)break;}while('BODY'!=_0x2867e4['tagName']);return _0x2867e4;}(_0x5467f8),_0xfc3fa8['ui'][_0xf88a('0xc')][_0xf88a('0xb')](this[_0xf88a('0x34')],_0xf88a('0x12'),()=>{this[_0xf88a('0xa')]();},{'usePassive':!0x0}),_0xfc3fa8['ui'][_0xf88a('0xc')]['listenTo'](_0x5dc23a[_0xf88a('0xe')],'resize',()=>this[_0xf88a('0xa')]()),this[_0xf88a('0x14')]=new _0x395659(this[_0xf88a('0x34')],()=>{this[_0xf88a('0xa')]();}),this['listenTo'](this['_paginationLookupPlugin'],_0xf88a('0x22'),()=>this[_0xf88a('0xa')]())):_0xfc3fa8['ui'][_0xf88a('0x37')](_0xf88a('0x1a'),()=>this[_0xf88a('0x16')]());}[_0xf88a('0x2d')](){for(const _0x1bdf2c of this[_0xf88a('0x28')][_0xf88a('0x3')][_0xf88a('0xc')][_0xf88a('0xf')][_0xf88a('0x1e')]())if(_0x1bdf2c[_0xf88a('0x25')][_0xf88a('0x1b')][_0xf88a('0x1')](_0x1bdf2c))return _0x1bdf2c;return null;}[_0xf88a('0xa')](){if(!this[_0xf88a('0x2')])return;const _0xa45f=this[_0xf88a('0x2d')](),_0x3af1b4=this['_paginationLookupPlugin']['pageBreaks'];if(this[_0xf88a('0x19')][_0xf88a('0x15')](),!_0xa45f||0x1==_0x3af1b4[_0xf88a('0xd')])return void(this['pageNumber']=0x1);const _0x473935=new _0x4b1101(_0xa45f)[_0xf88a('0x18')](),_0x71c2e=new _0x4b1101(this[_0xf88a('0x34')])['excludeScrollbarsAndBorders'](),_0x3ec049=_0x71c2e[_0xf88a('0x11')]+_0x71c2e['height']/0x3;let _0x3971dc=!0x1;for(let _0x8aeb30=0x1;_0x8aeb30<_0x3af1b4[_0xf88a('0xd')];_0x8aeb30++){const _0x30fe55=this[_0xf88a('0x31')](_0x8aeb30,_0x71c2e);if(!_0x30fe55)continue;const _0xcb4baa=_0x71c2e[_0xf88a('0x11')]+_0x30fe55-this[_0xf88a('0x34')][_0xf88a('0x26')];this[_0xf88a('0x17')](_0xcb4baa,_0x473935,_0x71c2e,_0x8aeb30),_0xcb4baa>_0x3ec049&&!_0x3971dc&&(this[_0xf88a('0x1d')]=_0x8aeb30,_0x3971dc=!0x0);}_0x3971dc||(this[_0xf88a('0x1d')]=_0x3af1b4[_0xf88a('0xd')]);}['_renderPageBreakLine'](_0x4bd260,_0x267b66,_0x25a930,_0x509e50){const {scrollX:_0x4ea359,scrollY:_0x5b6f1f}=_0x5dc23a['window'];_0x25a930[_0xf88a('0x11')]<_0x4bd260&&_0x4bd260<_0x25a930[_0xf88a('0x5')]&&this[_0xf88a('0x19')][_0xf88a('0x33')](_0x267b66[_0xf88a('0x20')]+_0x4ea359,_0x4bd260+_0x5b6f1f,_0x267b66['width'],_0x509e50+0x1);}[_0xf88a('0x31')](_0x327133,_0x13da20=null){const _0x2a3a1a=this[_0xf88a('0x2b')]['pageBreaks'][_0x327133][_0xf88a('0x24')];return _0x2a3a1a?(_0x13da20||(_0x13da20=new _0x4b1101(this['_scrollableEditingRootDomAncestor'])[_0xf88a('0x18')]()),_0x2a3a1a-_0x13da20[_0xf88a('0x11')]+this[_0xf88a('0x34')][_0xf88a('0x26')]):0x0;}[_0xf88a('0x32')](_0x197180){const _0x4764ed=this[_0xf88a('0x28')][_0xf88a('0x3')][_0xf88a('0xc')];_0x4764ed[_0xf88a('0x2e')](_0x3aaf8e=>{for(const _0x2b0511 of _0x4764ed['document'][_0xf88a('0x2c')])_0x197180?_0x3aaf8e[_0xf88a('0x2f')](L,_0x2b0511):_0x3aaf8e[_0xf88a('0x23')](L,_0x2b0511);});}}