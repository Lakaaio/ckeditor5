/*
 *             Copyright (c) 2016 - 2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x274a=['_suggestions','isAfter','attributes','includes','getAllAdjacentSuggestions','discardSuggestion','trackChanges','ck-suggestion-marker-','nodeBefore','isMultiRange','from','pluginName','detach','isUndo','_splitMarkerName','commands','setTo','insertContent','addRange','applyOperation','isInsideObject','createPositionBefore','for','rejected','_removeSuggestion','document','data','config','getShiftedBy','unbindElementFromMarkerName','consumable','length','high','PENDING_ACTION_SUGGESTION','chain','addUser','targetPosition','updateSuggestion','isInContent','markMultiRangeDeletion','_findSuggestions','containsRange','unbind','getAttribute','createSelection','getNearestSelectionRange','containsItem','nodeAfter','hasSuggestion','deletion:','toViewElement','markerToData','markerNameToElements','sort','delete','discard','get','insertion','activeMarkers','addMarkerName','createRangeIn','markDeletion','isExternal','values','discardAllSuggestions','subType','_saved','plugins','isObject','isBlock','stopListening','addHighlight','@external','_joinSuggestions','_handleNewSuggestionMarker','_customCallbacks','_editor','insertion:discard','authoredAt','change:data','removeMarkers','$graveyard','schema','collaboration.channelId','_checkSuggestionCorrectness','_setSuggestionData','insertion:chain','consume','type','change','removeMarker:suggestion:formatBlock','formatBlock:accept','toJSON','trackChangesCommand','isOwn','_isForcedDefaultExecutionBlock','has','stop','rootName','define','formatInline','fromCharCode','formatInline:','getChanges','_adapter','size','containsRangeInObject','clone','getChangedMarkers','_setSuggestionRange','_commentsRepository','getSuggestions','deletion:discard','addMarker','$marker','_addThreadToSuggestion','_model','reconvertMarker','getLastMatchingPosition','catch','removed','markerName','push','_addSuggestionMarker','addSuggestionData','suggestionLoaded','author','PendingActions','commentThread','isCollapsed','insertion:','isRemovable','suggestionChanged','clear','getMarkers','CommentsRepository','_getExternalAuthor','createElement','dataToMarker','ck-suggestion-marker--active','suggestion-type','_defaultCallbacks','createPositionAfter','getUser','track-changes-suggestion-data-mismatch','conversion','next','enableCommand','filter','createdAt','deletion:join','registerPostFixer','formatBlock:discard','writer','model','formatGroupId','_cutOutSuggestionMarker','end','ck-suggestion-marker-formatBlock','listenTo','_getAuthorFromId','dataReady','selection','start','addMarker:suggestion:formatBlock','hasComments','formatBlock','createPositionAt','forceDefaultExecution','originalSuggestionId','insert','error-saving-suggestion-data-suggestion-discarded','dataDowncast','data-suggestion','getSuggestionCallback','backward','markers','ck-suggestion-marker','deletion:accept','before','bindElementToMarker','return','_getSuggestionData','formatBlock:join','remove','previous','getMultiRangeId','ready','after','getFirstMarker','suggestion','multi','isLocal','documentSelection','$textProxy','deleteContent','_onDiscard','editor','getRanges','mapper','resolve','isBefore','newRange','getCommentThread','isTouching','map','fromRange','upcast','acceptSuggestion','getWalker','low','getDifference','open','options','_updateSuggestionData','root','set','deletion:chain','editing','howMany','removeMarker','change:_saved','formatBlock:','lowest','isIntersectingWithRange','name','adapter','enqueueChange','element','authorName','suggestionUnloaded','multipleBlocks','isAtEnd','getItems','elementEnd','_descriptionFactory','fire','highest','then','_enabledCommands','moveTargetPosition','value','formatInline:accept','isEqual','updateMarker','fetchCommentThread','getFirstRange','trackChanges.trackFormatChanges','containsPosition','isNextTo','isSelectable','addComment','markerToHighlight','addClass','formatBlock:chain','every','_suggestionFactory','locale','markMultiRangeInsertion','containerElement','addCommentThread','deletion','buildSuggestion','differ','commandName','getRange','getIntersection','markMultiRangeBlockFormat','_registerDefaultCallbacks','some','_rangeIsInLocalUserInsertion','refresh','showSuggestionHighlights','substr','insertion:join','execute','acceptAllSuggestions','split','notReady','marker-count','add','_suggestionState','creator','range','_refreshSuggestionsChain','formatInline:join','addSuggestion','join','removeAttribute','isLimit','_createSuggestion','parent','getCustomProperty','formatInline:discard','markerReady','_breakSuggestionMarker','skipNestingCheck','splitPosition','normal','oldRange','rethrowUnexpectedError','TrackChangesEditing','elementToElement','requires','createRange','editingDowncast','elementStart','suggestion:','Users','track-changes-command-not-found','_trackFormatChanges','batch','item','accept'];(function(_0x37ba30,_0x274a79){const _0x9ebea5=function(_0xf59b5){while(--_0xf59b5){_0x37ba30['push'](_0x37ba30['shift']());}};_0x9ebea5(++_0x274a79);}(_0x274a,0x14e));const _0x9ebe=function(_0x37ba30,_0x274a79){_0x37ba30=_0x37ba30-0x0;let _0x9ebea5=_0x274a[_0x37ba30];return _0x9ebea5;};import{Plugin as _0x1015b7,PendingActions as _0x517343}from'ckeditor5/src/core';import{LiveRange as _0x5ea0ee}from'ckeditor5/src/engine';import{CKEditorError as _0x168803,uid as _0x4e3532,priorities as _0x4039f0,logWarning as _0x138b14}from'ckeditor5/src/utils';import{toWidget as _0x78162b}from'ckeditor5/src/widget';import{Users as _0x4a7b0d,hashObject as _0x1a7906}from'ckeditor5-collaboration/src/collaboration-core';import _0x51065e from'./commands/trackchangescommand';import _0x1e1b09 from'./commands/acceptsuggestioncommand';import _0x3693e3 from'./commands/discardsuggestioncommand';import _0x5c1c31 from'./commands/executeonallsuggestionscommand';import _0x46d85a from'./commands/executeonselectedsuggestionscommand';import _0x428cce from'./suggestion';import _0x90ee9a from'./suggestiondescriptionfactory';import _0x25e9fe from'./integrations/alignment';import _0x33d675 from'./integrations/basicstyles';import _0xc49306 from'./integrations/blockquote';import _0x418f1e from'./integrations/ckbox';import _0x500c4a from'./integrations/codeblock';import _0x3e305d from'./integrations/comments';import _0x2acc13 from'./integrations/deletecommand';import _0x1c850a from'./integrations/documentlist';import _0x3f2c11 from'./integrations/entercommand';import _0x401fa9 from'./integrations/findandreplace';import _0xb5be06 from'./integrations/font';import _0x28f455 from'./integrations/formatpainter';import _0x3ebe7d from'./integrations/heading';import _0x1d777b from'./integrations/highlight';import _0x4d79d0 from'./integrations/horizontalline';import _0x3050c8 from'./integrations/htmlembed';import _0x29878f from'./integrations/image';import _0x48851 from'./integrations/imagereplace';import _0xb69abb from'./integrations/importword';import _0x529e23 from'./integrations/indent';import _0x116f67 from'./integrations/inputcommand';import _0x105364 from'./integrations/link';import _0x4c1c27 from'./integrations/list';import _0x2b97eb from'./integrations/listproperties';import _0x53878e from'./integrations/mediaembed';import _0x1a6f9d from'./integrations/mention';import _0x5e68b7 from'./integrations/pagebreak';import _0x2b30a3 from'./integrations/paragraph';import _0x1e8579 from'./integrations/removeformat';import _0xc52fde from'./integrations/restrictededitingmode';import _0x7f89a9 from'./integrations/shiftentercommand';import _0xb5ad58 from'./integrations/standardeditingmode';import _0x367168 from'./integrations/style';import _0x3a7cc3 from'./integrations/table';import _0x2e95d1 from'./integrations/tablemergesplit';import _0x7f6020 from'./integrations/tableheadings';import _0x35e388 from'./integrations/tableclipboard';import _0x1b263b from'./integrations/tablecolumnresize';import _0x50c661 from'./integrations/template';import _0x52fed9 from'./integrations/tableofcontents';import _0x3e7a6a from'./integrations/title';import _0x5bb1da from'./integrations/undo';import{getTranslation as _0x447cd7}from'./utils/common-translations';import _0x51637a from'./integrations/tablecaption';import _0x574b61 from'./integrations/documentlistproperties';import _0x44b4de from'./integrations/tableproperties';export default class p extends _0x1015b7{static get[_0x9ebe('0x11b')](){return[_0x9ebe('0x73'),_0x4a7b0d,_0x517343,_0x25e9fe,_0x33d675,_0xc49306,_0x418f1e,_0x500c4a,_0x3e305d,_0x2acc13,_0x1c850a,_0x574b61,_0x3f2c11,_0x401fa9,_0xb5be06,_0x28f455,_0x3ebe7d,_0x1d777b,_0x4d79d0,_0x3050c8,_0x29878f,_0x48851,_0xb69abb,_0x529e23,_0x116f67,_0x105364,_0x4c1c27,_0x2b97eb,_0x53878e,_0x1a6f9d,_0x5e68b7,_0x2b30a3,_0x1e8579,_0xc52fde,_0x7f89a9,_0xb5ad58,_0x367168,_0x3a7cc3,_0x2e95d1,_0x7f6020,_0x51637a,_0x35e388,_0x1b263b,_0x52fed9,_0x44b4de,_0x50c661,_0x3e7a6a,_0x5bb1da];}static get[_0x9ebe('0x131')](){return _0x9ebe('0x119');}constructor(_0x5b0cd0){function _0x4165dc(_0x57d01a){return _0x57d01a[_0x9ebe('0xb9')](_0x18aa65=>String[_0x9ebe('0x51')](_0x18aa65))[_0x9ebe('0x10b')]('');}super(_0x5b0cd0),this['set'](_0x9ebe('0x26'),[]),this['on']('change:activeMarkers',(_0x1bb89a,_0x96553d,_0x52ad62,_0x1bbc33)=>{this[_0x9ebe('0x60')][_0x9ebe('0x45')](()=>{for(const _0x3d8350 of[..._0x1bbc33,..._0x52ad62])this['_model'][_0x9ebe('0x9c')]['has'](_0x3d8350)&&_0x5b0cd0[_0x9ebe('0xc6')][_0x9ebe('0x61')](_0x3d8350);});}),this[_0x9ebe('0xd7')]=new _0x90ee9a(this[_0x9ebe('0xb1')]['model'][_0x9ebe('0x3e')],this[_0x9ebe('0xb1')][_0x9ebe('0xed')]),this[_0x9ebe('0x54')]=null,this[_0x9ebe('0xec')]=new Ct(this[_0x9ebe('0xb1')]),this[_0x9ebe('0x126')]=new Map(),this[_0x9ebe('0x5a')]=_0x5b0cd0[_0x9ebe('0x2f')][_0x9ebe('0x24')](_0x9ebe('0x73')),this[_0x9ebe('0xdb')]=new Set(),this[_0x9ebe('0x60')]=this[_0x9ebe('0xb1')][_0x9ebe('0x86')],this[_0x9ebe('0x105')]=new WeakMap(),this[_0x9ebe('0x4b')]=!0x1,_0x5b0cd0['config'][_0x9ebe('0x4f')](_0x9ebe('0xe3'),!0x0),this['_trackFormatChanges']=_0x5b0cd0[_0x9ebe('0x7')]['get']('trackChanges.trackFormatChanges'),this[_0x9ebe('0x49')]=new _0x51065e(_0x5b0cd0,this['_enabledCommands']),this[_0x4165dc([0x5f,0x65,0x78,0x65,0x63,0x75,0x74,0x65,0x53,0x75,0x67,0x67,0x65,0x73,0x74,0x69,0x6f,0x6e])]=_0x4165dc([0x34,0x30,0x34,0x36,0x30,0x38,0x33,0x38]);}['init'](){const _0x530df3=this[_0x9ebe('0xb1')];_0x530df3['conversion']['for']('editingDowncast')[_0x9ebe('0xe8')]({'model':'suggestion','view':_0x39f991=>{const {id:_0x138c35,type:_0x32d7cd}=this[_0x9ebe('0x134')](_0x39f991['markerName']),_0x5c85f7=['ck-suggestion-marker',_0x9ebe('0x12d')+_0x32d7cd];let _0x1b6242=0xbb8;return this[_0x9ebe('0x26')][_0x9ebe('0x129')](_0x39f991[_0x9ebe('0x65')])&&(_0x5c85f7['push'](_0x9ebe('0x77')),_0x1b6242=0xbc2),_0x9ebe('0xf1')==_0x32d7cd&&(_0x1b6242+=0x5),{'classes':_0x5c85f7,'attributes':{'data-suggestion':_0x138c35},'priority':_0x1b6242};}}),_0x530df3['conversion'][_0x9ebe('0x2')]('dataDowncast')[_0x9ebe('0x104')](_0x4e4897=>{_0x4e4897['on']('addMarker:suggestion',(_0x42a26b,_0x4376b8,_0x4f1534)=>{if(!_0x4f1534[_0x9ebe('0xc1')][_0x9ebe('0xfc')])return;const _0xefcd96=_0x4376b8['item'];if(!_0xefcd96)return;const _0x4086c1=_0x4f1534[_0x9ebe('0xb3')][_0x9ebe('0x1e')](_0xefcd96);_0x530df3['model']['schema']['isObject'](_0xefcd96)&&_0x4086c1&&!_0x4086c1['getCustomProperty']('widget')&&_0x4086c1['is'](_0x9ebe('0xef'))&&_0x78162b(_0x4086c1,_0x4f1534[_0x9ebe('0x85')]);},{'priority':_0x9ebe('0xc')});}),_0x530df3['conversion'][_0x9ebe('0x2')](_0x9ebe('0x98'))[_0x9ebe('0xe8')]({'model':_0x9ebe('0xaa'),'view':(_0x3a5463,_0x567f93)=>{if(!_0x567f93[_0x9ebe('0xc1')][_0x9ebe('0xfc')])return null;const {type:_0x37f42f}=this[_0x9ebe('0x134')](_0x3a5463[_0x9ebe('0x65')]);return{'classes':[_0x9ebe('0x9d'),_0x9ebe('0x12d')+_0x37f42f],'priority':0xbb8};}});const _0x24fdc8=({showActiveMarkers:_0x46be9e=!0x0}={})=>(_0x210a15,_0x27512a,_0x2e1404)=>{if(!_0x27512a[_0x9ebe('0x124')])return;if(_0x27512a[_0x9ebe('0x124')]['is'](_0x9ebe('0x8e')))return void _0x2e1404[_0x9ebe('0xa')]['consume'](_0x27512a[_0x9ebe('0x124')],_0x210a15['name']);const _0x43006a=_0x2e1404[_0x9ebe('0xb3')][_0x9ebe('0x1e')](_0x27512a[_0x9ebe('0x124')]);if(!(_0x27512a[_0x9ebe('0x124')]['is'](_0x9ebe('0xd0'))&&_0x530df3[_0x9ebe('0x86')]['schema'][_0x9ebe('0x31')](_0x27512a['item'])&&!_0x43006a[_0x9ebe('0x110')](_0x9ebe('0x33'))))return;const {id:_0x27a31a}=this[_0x9ebe('0x134')](_0x27512a['markerName']);_0x2e1404[_0x9ebe('0x85')][_0x9ebe('0xe9')]([_0x9ebe('0x9d'),'ck-suggestion-marker-formatBlock'],_0x43006a),_0x2e1404['writer']['setAttribute'](_0x9ebe('0x99'),_0x27a31a,_0x43006a),_0x2e1404[_0x9ebe('0xb3')][_0x9ebe('0xa0')](_0x43006a,_0x27512a[_0x9ebe('0x65')]),_0x46be9e&&(this[_0x9ebe('0x26')][_0x9ebe('0x129')](_0x27512a[_0x9ebe('0x65')])?_0x2e1404[_0x9ebe('0x85')][_0x9ebe('0xe9')]('ck-suggestion-marker--active',_0x43006a):_0x2e1404[_0x9ebe('0x85')]['removeClass'](_0x9ebe('0x77'),_0x43006a));for(const _0x2fd9d7 of _0x530df3[_0x9ebe('0x86')][_0x9ebe('0x28')](_0x27512a[_0x9ebe('0x124')])[_0x9ebe('0xd5')]())_0x2e1404['consumable'][_0x9ebe('0x43')](_0x2fd9d7,_0x210a15['name']);_0x2e1404[_0x9ebe('0xa')]['consume'](_0x27512a[_0x9ebe('0x124')],_0x210a15[_0x9ebe('0xcd')]);};_0x530df3[_0x9ebe('0x7d')][_0x9ebe('0x2')](_0x9ebe('0x98'))[_0x9ebe('0x104')](_0x3348d4=>{_0x3348d4['on'](_0x9ebe('0x90'),(_0x593d1d,_0x87446f,_0x50e829)=>{_0x50e829[_0x9ebe('0xc1')][_0x9ebe('0xfc')]&&_0x24fdc8({'showActiveMarkers':!0x1})(_0x593d1d,_0x87446f,_0x50e829);},{'priority':_0x9ebe('0xd9')});}),_0x530df3[_0x9ebe('0x7d')]['for'](_0x9ebe('0x98'))[_0x9ebe('0x1f')]({'model':_0x9ebe('0xaa'),'view':(_0x417bb9,_0x3782bc)=>_0x3782bc[_0x9ebe('0xc1')][_0x9ebe('0xfc')]?null:{'group':_0x9ebe('0xaa'),'name':_0x417bb9[_0x9ebe('0xfd')](0xb)}}),_0x530df3[_0x9ebe('0x7d')]['for'](_0x9ebe('0xbb'))[_0x9ebe('0x11a')]({'view':{'name':_0x9ebe('0xaa'),'attributes':{'id':/^\w/,'suggestion-type':/^\w/}},'model':(_0x4453b0,{writer:_0x17fe5c})=>{let _0x1e0b4d=_0x9ebe('0x11f')+_0x4453b0[_0x9ebe('0x17')](_0x9ebe('0x78'))+':'+_0x4453b0['getAttribute']('id');return _0x4453b0[_0x9ebe('0x17')]('marker-count')&&(_0x1e0b4d+=':'+_0x4453b0[_0x9ebe('0x17')](_0x9ebe('0x103'))),_0x17fe5c[_0x9ebe('0x75')](_0x9ebe('0x5e'),{'data-name':_0x1e0b4d});}}),_0x530df3[_0x9ebe('0x7d')]['for'](_0x9ebe('0xbb'))[_0x9ebe('0x76')]({'view':_0x9ebe('0xaa')}),_0x530df3['conversion'][_0x9ebe('0x2')](_0x9ebe('0x11d'))[_0x9ebe('0x104')](_0x217982=>{_0x217982['on'](_0x9ebe('0x90'),_0x24fdc8(),{'priority':_0x9ebe('0xc')});}),_0x530df3[_0x9ebe('0x7d')][_0x9ebe('0x2')]('editingDowncast')[_0x9ebe('0x104')](_0x2f9880=>{_0x2f9880['on'](_0x9ebe('0x46'),(_0x4ccd63,_0x2e65ff,_0x51e191)=>{const _0x186465=_0x51e191[_0x9ebe('0xb3')][_0x9ebe('0x20')](_0x2e65ff[_0x9ebe('0x65')]);if(_0x186465)for(const _0xdd629d of _0x186465)_0xdd629d[_0x9ebe('0x110')](_0x9ebe('0x33'))||(_0x51e191['writer']['removeClass']([_0x9ebe('0x9d'),_0x9ebe('0x8a'),'ck-suggestion-marker--active'],_0xdd629d),_0x51e191[_0x9ebe('0x85')][_0x9ebe('0x10c')](_0x9ebe('0x99'),_0xdd629d),_0x51e191[_0x9ebe('0xb3')][_0x9ebe('0x9')](_0xdd629d,_0x2e65ff[_0x9ebe('0x65')]));},{'priority':_0x9ebe('0xc')});}),_0x530df3[_0x9ebe('0x86')]['document']['registerPostFixer'](_0x35bc6a=>{let _0x1dc850=!0x1;const _0x2e4bb5=Array[_0x9ebe('0x130')](_0x530df3[_0x9ebe('0x86')]['document'][_0x9ebe('0xf3')][_0x9ebe('0x58')]()),_0x34a43b=new Set();for(const {name:_0x529de0,data:_0x472172}of _0x2e4bb5){const {group:_0x2428c5,type:_0x455abe,id:_0x3c7e74}=this[_0x9ebe('0x134')](_0x529de0);if(_0x9ebe('0xaa')!==_0x2428c5)continue;const _0x480bc0=this['_suggestions'][_0x9ebe('0x24')](_0x3c7e74);if(null!=_0x472172[_0x9ebe('0xb6')]){_0x9ebe('0x50')==_0x455abe&&(_0x1dc850=_0x1dc850||Mt(_0x472172[_0x9ebe('0xb6')],_0x529de0,_0x35bc6a,_0x530df3[_0x9ebe('0x86')][_0x9ebe('0x3e')]));if(_0x472172[_0x9ebe('0xb6')][_0x9ebe('0x6d')]||_0x9ebe('0x3d')==_0x472172['newRange'][_0x9ebe('0xc3')][_0x9ebe('0x4e')]||_0x9ebe('0x92')==_0x455abe&&!Nt(_0x472172[_0x9ebe('0xb6')])||_0x9ebe('0xf1')==_0x455abe&&!(!_t(_0xb55b7b=_0x472172[_0x9ebe('0xb6')])&&!function(_0x3714a2){return _0x3714a2['start'][_0x9ebe('0x10f')]==_0x3714a2[_0x9ebe('0x89')][_0x9ebe('0x12e')]&&_0x3714a2['start'][_0x9ebe('0xd4')];}(_0xb55b7b)))_0x35bc6a[_0x9ebe('0xc8')](_0x529de0),_0x1dc850=!0x0;else{if(!_0x480bc0||!_0x480bc0[_0x9ebe('0x12')])continue;_0x34a43b[_0x9ebe('0x104')](_0x480bc0);}}}var _0xb55b7b;return _0x34a43b[_0x9ebe('0x55')]>0x0&&(_0x1dc850=!!this['_joinWithAdjacentSuggestions'](_0x34a43b)||_0x1dc850),_0x1dc850;}),_0x530df3[_0x9ebe('0x86')][_0x9ebe('0x5')][_0x9ebe('0x83')](_0x1ab37c=>{let _0x4b9426=!0x1;for(const _0x598e99 of _0x530df3[_0x9ebe('0x86')][_0x9ebe('0x5')]['differ'][_0x9ebe('0x53')]()){if(_0x9ebe('0x96')!=_0x598e99[_0x9ebe('0x44')])continue;const _0x51398f=_0x598e99['position'][_0x9ebe('0x8')](_0x598e99['length']);if(_0x51398f['isAtEnd'])for(const _0x90029f of this[_0x9ebe('0x126')][_0x9ebe('0x2b')]()){if(_0x90029f[_0x9ebe('0x12f')]||!_0x90029f[_0x9ebe('0x12')])continue;if('formatBlock'!=_0x90029f['type'])continue;const _0x40c41f=_0x90029f['getFirstRange']();if(_0x40c41f[_0x9ebe('0x8f')]['parent']!=_0x40c41f['end'][_0x9ebe('0x10f')]&&_0x40c41f[_0x9ebe('0x89')][_0x9ebe('0xdf')](_0x598e99['position'])){const _0x2880e8=_0x530df3[_0x9ebe('0x86')]['createRange'](_0x40c41f[_0x9ebe('0x8f')],_0x51398f);_0x1ab37c['updateMarker'](_0x90029f[_0x9ebe('0xa9')](),{'range':_0x2880e8}),_0x4b9426=!0x0;}}}return _0x4b9426;}),_0x530df3[_0x9ebe('0x86')][_0x9ebe('0x9c')]['on']('update:suggestion',(_0x14b2a8,_0x3fa746,_0x14c23c)=>{if(null==_0x14c23c){const {id:_0x1f7f5e}=this[_0x9ebe('0x134')](_0x3fa746['name']),_0x5ed5b9=this['_suggestions'][_0x9ebe('0x24')](_0x1f7f5e);_0x5ed5b9&&_0x5ed5b9[_0x9ebe('0x27')](_0x3fa746[_0x9ebe('0xcd')]);}}),_0x530df3['model'][_0x9ebe('0x5')]['on'](_0x9ebe('0x3b'),()=>{const _0x1aca63=Array['from'](_0x530df3[_0x9ebe('0x86')][_0x9ebe('0x5')][_0x9ebe('0xf3')][_0x9ebe('0x58')]())[_0x9ebe('0x80')](_0x1d8f34=>_0x9ebe('0xaa')===this[_0x9ebe('0x134')](_0x1d8f34[_0x9ebe('0xcd')])['group']);if(0x0===_0x1aca63['length'])return;_0x1aca63[_0x9ebe('0x21')]((_0x2afe3d,_0x23bff8)=>{const _0x49dfd8=_0x2afe3d[_0x9ebe('0x6')]['oldRange'],_0x261ce5=_0x23bff8[_0x9ebe('0x6')][_0x9ebe('0x117')];return null===_0x49dfd8&&null===_0x261ce5?0x0:null===_0x49dfd8&&null!==_0x261ce5?-0x1:null!==_0x49dfd8&&null===_0x261ce5?0x1:_0x49dfd8[_0x9ebe('0x8f')][_0x9ebe('0xb5')](_0x261ce5[_0x9ebe('0x8f')])?-0x1:0x1;});const _0x7efa6c=new Set(),_0x224883=new Set();for(const {name:_0x202e1c,data:_0x42d297}of _0x1aca63){const {id:_0xa00184}=this['_splitMarkerName'](_0x202e1c);if(null===_0x42d297['oldRange']){const _0x48c61f=this[_0x9ebe('0x36')](_0x202e1c);_0x224883[_0x9ebe('0x104')](_0x48c61f);}else{const _0x20206d=this[_0x9ebe('0x126')]['get'](_0xa00184);null!==_0x42d297[_0x9ebe('0xb6')]||_0x20206d[_0x9ebe('0x12')]?(_0x7efa6c['add'](_0x20206d['head']),_0x224883[_0x9ebe('0x104')](_0x20206d)):this['_removeSuggestion'](_0x20206d);}}_0x224883[_0x9ebe('0x55')]>0x0&&this[_0x9ebe('0x108')](_0x224883);for(const _0x582271 of _0x7efa6c)this[_0x9ebe('0xd8')](_0x9ebe('0x70'),_0x582271);}),_0x530df3[_0x9ebe('0x86')]['on'](_0x9ebe('0x139'),(_0x2fb8c5,_0x29784f)=>{const _0x158256=_0x29784f[0x0];if(!this['_suggestions'][_0x9ebe('0x55')])return;if(!_0x158256['isDocumentOperation'])return;if(_0x158256[_0x9ebe('0x123')][_0x9ebe('0x133')]||!_0x158256[_0x9ebe('0x123')][_0x9ebe('0xac')])return;let _0x2ca0de,_0x37f03c;switch(_0x158256[_0x9ebe('0x44')]){case _0x9ebe('0x96'):_0x2ca0de=_0x530df3['model'][_0x9ebe('0x93')](_0x158256['position']),_0x37f03c=_0x2ca0de[_0x9ebe('0x8')](_0x158256[_0x9ebe('0xc7')]);break;case'split':_0x2ca0de=_0x530df3[_0x9ebe('0x86')][_0x9ebe('0x93')](_0x158256[_0x9ebe('0x115')]),_0x37f03c=_0x530df3[_0x9ebe('0x86')][_0x9ebe('0x93')](_0x158256[_0x9ebe('0xdc')]);break;case'move':_0x2ca0de=_0x530df3[_0x9ebe('0x86')]['createPositionAt'](_0x158256[_0x9ebe('0x10')]),_0x37f03c=_0x2ca0de[_0x9ebe('0x8')](_0x158256[_0x9ebe('0xc7')]);break;default:return;}const _0x4227e0=_0x530df3[_0x9ebe('0x86')][_0x9ebe('0x11c')](_0x2ca0de,_0x37f03c);_0x530df3[_0x9ebe('0x86')][_0x9ebe('0x45')](()=>{for(const {suggestion:_0x282bed,meta:_0x2ad730}of this[_0x9ebe('0x14')](_0x4227e0)){if(_0x282bed[_0x9ebe('0x12f')])continue;if('formatInline'==_0x282bed[_0x9ebe('0x44')])continue;const _0xd4e78a=_0x282bed[_0x9ebe('0x6')]&&_0x282bed[_0x9ebe('0x6')][_0x9ebe('0xd3')];(_0x9ebe('0x92')!=_0x282bed['type']||_0x9ebe('0x101')==_0x158256['type']&&!_0xd4e78a)&&(_0x2ad730[_0x9ebe('0x56')]||_0x9ebe('0x25')==_0x282bed[_0x9ebe('0x44')]&&_0x2ad730['isOwn']||_0x282bed['getFirstRange']()[_0x9ebe('0x15')](_0x4227e0)&&this[_0x9ebe('0x113')](_0x282bed,_0x2ca0de,_0x37f03c));}});},{'priority':_0x9ebe('0xcb')}),_0x530df3[_0x9ebe('0x86')]['on'](_0x9ebe('0xaf'),(_0x41b36b,_0x579920)=>{const _0x4abd90=_0x579920[0x0],_0x524d15=_0x579920[0x1];if(_0x524d15&&_0x524d15[_0x9ebe('0x94')])return;if(this['_isForcedDefaultExecutionBlock'])return;if(!this[_0x9ebe('0x49')][_0x9ebe('0xdd')])return;if(_0x4abd90[_0x9ebe('0x6d')])return;const _0x51009f=_0x530df3[_0x9ebe('0x86')][_0x9ebe('0x3e')],{start:_0x125b8d,end:_0x52530e}=_0x4abd90['getFirstRange'](),_0x126786=_0x125b8d['nodeAfter']&&_0x51009f[_0x9ebe('0x10d')](_0x125b8d[_0x9ebe('0x1b')])?null:_0x51009f['getNearestSelectionRange'](_0x125b8d,'forward'),_0x5737a1=_0x52530e['nodeBefore']&&_0x51009f[_0x9ebe('0x10d')](_0x52530e[_0x9ebe('0x12e')])?null:_0x51009f[_0x9ebe('0x19')](_0x52530e,_0x9ebe('0x9b')),_0x2a804c=_0x530df3[_0x9ebe('0x86')][_0x9ebe('0x11c')](_0x126786?_0x126786[_0x9ebe('0x8f')]:_0x125b8d,_0x5737a1?_0x5737a1['end']:_0x52530e);_0x530df3[_0x9ebe('0x86')][_0x9ebe('0x45')](_0x3ae5a2=>{this[_0x9ebe('0x29')](_0x2a804c);const _0x41dfb6=_0x530df3[_0x9ebe('0x86')][_0x9ebe('0x3e')][_0x9ebe('0x19')](_0x2a804c[_0x9ebe('0x8f')]);_0x4abd90['is'](_0x9ebe('0xad'))?_0x3ae5a2['setSelection'](_0x41dfb6):_0x4abd90[_0x9ebe('0x136')](_0x41dfb6);}),_0x41b36b[_0x9ebe('0x4d')]();},{'priority':_0x4039f0[_0x9ebe('0x116')]+0xa}),_0x530df3['model']['on']('insertContent',(_0x3d65ad,_0x52d751)=>{const _0xfb2e6=_0x52d751[_0x52d751[_0x9ebe('0xb')]-0x1];_0xfb2e6&&_0xfb2e6[_0x9ebe('0x94')]||this[_0x9ebe('0x4b')]||this[_0x9ebe('0x49')][_0x9ebe('0xdd')]&&(_0x530df3[_0x9ebe('0x86')][_0x9ebe('0x45')](()=>{let _0x2d59ae=_0x530df3[_0x9ebe('0x86')][_0x9ebe('0x137')](_0x52d751[0x0],_0x52d751[0x1],_0x52d751[0x2],{'forceDefaultExecution':!0x0});if(!_0x2d59ae)return;_0x3d65ad[_0x9ebe('0xa1')]=_0x2d59ae[_0x9ebe('0x57')]();const _0x2eca08=_0x2d59ae[_0x9ebe('0x89')][_0x9ebe('0x12e')],_0x4752d3=_0x530df3[_0x9ebe('0x86')][_0x9ebe('0x3e')];_0x2eca08&&_0x4752d3['isBlock'](_0x2eca08)&&!_0x4752d3['isObject'](_0x2eca08)&&(_0x2d59ae=_0x530df3['model'][_0x9ebe('0x11c')](_0x2d59ae[_0x9ebe('0x8f')],_0x530df3['model'][_0x9ebe('0x93')](_0x2eca08,_0x9ebe('0x89')))),this['markInsertion'](_0x2d59ae);}),_0x3d65ad['stop']());},{'priority':_0x9ebe('0xc')}),this[_0x9ebe('0xb1')][_0x9ebe('0x135')][_0x9ebe('0x104')](_0x9ebe('0x12c'),this[_0x9ebe('0x49')]),this[_0x9ebe('0x7f')](_0x9ebe('0x12c'));const _0x5cc585=new _0x1e1b09(_0x530df3,this[_0x9ebe('0x126')]);_0x530df3[_0x9ebe('0x135')][_0x9ebe('0x104')](_0x9ebe('0xbc'),_0x5cc585),this[_0x9ebe('0x7f')](_0x9ebe('0xbc'));const _0x553647=new _0x3693e3(_0x530df3,this[_0x9ebe('0x126')]);_0x530df3[_0x9ebe('0x135')][_0x9ebe('0x104')](_0x9ebe('0x12b'),_0x553647),this[_0x9ebe('0x7f')]('discardSuggestion'),_0x530df3[_0x9ebe('0x135')]['add'](_0x9ebe('0x100'),new _0x5c1c31(_0x530df3,_0x5cc585,this[_0x9ebe('0x126')])),this[_0x9ebe('0x7f')](_0x9ebe('0x100')),_0x530df3[_0x9ebe('0x135')]['add']('discardAllSuggestions',new _0x5c1c31(_0x530df3,_0x553647,this[_0x9ebe('0x126')])),this[_0x9ebe('0x7f')](_0x9ebe('0x2c')),_0x530df3[_0x9ebe('0x135')][_0x9ebe('0x104')]('acceptSelectedSuggestions',new _0x46d85a(_0x530df3,_0x5cc585,this['_suggestions'])),this[_0x9ebe('0x7f')]('acceptSelectedSuggestions'),_0x530df3['commands'][_0x9ebe('0x104')]('discardSelectedSuggestions',new _0x46d85a(_0x530df3,_0x553647,this[_0x9ebe('0x126')])),this['enableCommand']('discardSelectedSuggestions');const _0xba1b4d=_0x530df3[_0x9ebe('0x2f')]['get'](_0x9ebe('0x73'));this['listenTo'](_0xba1b4d,_0x9ebe('0xe7'),(_0x557236,{threadId:_0x112c79})=>{const _0x290b53=this[_0x9ebe('0x126')][_0x9ebe('0x24')](_0x112c79);_0x290b53&&_0x290b53[_0x9ebe('0x6c')]&&0x1===_0x290b53[_0x9ebe('0x6c')][_0x9ebe('0xb')]&&this['_updateSuggestionData'](_0x112c79,{'hasComments':!0x0});},{'priority':'low'}),this['listenTo'](_0xba1b4d,'removeComment',(_0x33f077,{threadId:_0x592408})=>{const _0x196f7f=this[_0x9ebe('0x126')]['get'](_0x592408);_0x196f7f&&_0x196f7f['commentThread']&&!_0x196f7f[_0x9ebe('0x6c')][_0x9ebe('0xb')]&&this[_0x9ebe('0xc2')](_0x592408,{'hasComments':!0x1});},{'priority':_0x9ebe('0xbe')});}set[_0x9ebe('0xce')](_0x35af03){if(this[_0x9ebe('0x54')])throw new _0x168803('track-changes-adapter-already-set',this);this[_0x9ebe('0x54')]=_0x35af03;}get['adapter'](){return this[_0x9ebe('0x54')];}[_0x9ebe('0x5b')]({skipNotAttached:_0x147d12=!0x1,toJSON:_0x3f260d=!0x1}={}){const _0x16c068=[];for(const _0x19592c of this[_0x9ebe('0x126')][_0x9ebe('0x2b')]())_0x147d12&&!_0x19592c['isInContent']||_0x16c068[_0x9ebe('0x66')](_0x19592c);return _0x3f260d?_0x16c068['map'](_0x324ae9=>_0x324ae9[_0x9ebe('0x48')]()):_0x16c068;}['getSuggestion'](_0x29b15e){const _0x522b08=this['_suggestions'][_0x9ebe('0x24')](_0x29b15e);if(!_0x522b08)throw new _0x168803('track-changes-suggestion-not-found',this);return _0x522b08;}[_0x9ebe('0x1c')](_0x35539f){return this[_0x9ebe('0x126')]['has'](_0x35539f);}[_0x9ebe('0x68')](_0x5eac4b){const {authorId:_0x5a3eb4,id:_0x267fd9,attributes:_0x9f8875}=_0x5eac4b,[_0x4182b8,_0xc62a29]=_0x5eac4b[_0x9ebe('0x44')][_0x9ebe('0x101')](':'),_0x5195b5=this[_0x9ebe('0x126')][_0x9ebe('0x24')](_0x267fd9)||this['_createSuggestion'](_0x4182b8,_0xc62a29,_0x267fd9,_0x5a3eb4,_0x9f8875);if(this[_0x9ebe('0x5f')](_0x5195b5),this[_0x9ebe('0x40')](_0x5195b5,_0x4182b8,_0xc62a29||null,_0x5a3eb4),_0x5195b5[_0x9ebe('0x81')]=_0x5eac4b[_0x9ebe('0x81')],_0x9f8875&&_0x9f8875[_0x9ebe('0x34')]){const _0x11b33e=_0x9f8875[_0x9ebe('0x34')],_0x1ec474=this[_0x9ebe('0x74')](_0x11b33e[_0x9ebe('0xd1')]);_0x5195b5[_0x9ebe('0x3a')]=_0x11b33e[_0x9ebe('0x81')],_0x5195b5[_0x9ebe('0x6a')]=_0x1ec474,_0x5195b5[_0x9ebe('0x2a')]=!0x0;}else _0x5195b5['authoredAt']=_0x5eac4b['createdAt'];switch(_0x5eac4b[_0x9ebe('0x6')]&&(_0x5195b5['data']=_0x5eac4b[_0x9ebe('0x6')]),_0x5eac4b[_0x9ebe('0x128')]&&(_0x5195b5[_0x9ebe('0x128')]=_0x5eac4b[_0x9ebe('0x128')]),this[_0x9ebe('0x54')]&&this[_0x9ebe('0x54')][_0x9ebe('0x10a')]||(_0x5195b5[_0x9ebe('0x2e')]=!0x0),this[_0x9ebe('0x105')][_0x9ebe('0x24')](_0x5195b5)){case _0x9ebe('0x102'):this[_0x9ebe('0x105')][_0x9ebe('0xc4')](_0x5195b5,_0x9ebe('0x8d'));break;case _0x9ebe('0x112'):_0x5195b5[_0x9ebe('0x12')]?(this[_0x9ebe('0x105')][_0x9ebe('0xc4')](_0x5195b5,'ready'),this[_0x9ebe('0xd8')](_0x9ebe('0x69'),_0x5195b5)):this[_0x9ebe('0x105')][_0x9ebe('0xc4')](_0x5195b5,_0x9ebe('0x64'));}return _0x5195b5;}['acceptSuggestion'](_0x447ed0){this[_0x9ebe('0x94')](()=>{this[_0x9ebe('0xb1')]['model'][_0x9ebe('0x45')](()=>{for(const _0x1a33d0 of _0x447ed0[_0x9ebe('0x12a')]())_0x1a33d0[_0x9ebe('0x125')]();});});}['discardSuggestion'](_0x304021){this[_0x9ebe('0x94')](()=>{this[_0x9ebe('0xb1')][_0x9ebe('0x86')][_0x9ebe('0x45')](()=>{for(const _0x465bdf of _0x304021[_0x9ebe('0x12a')]())_0x465bdf[_0x9ebe('0x23')]();});});}[_0x9ebe('0x7f')](_0x2cd5ef,_0x15a6db){const _0x740185=this['editor'][_0x9ebe('0x135')][_0x9ebe('0x24')](_0x2cd5ef);if(!_0x740185)throw new _0x168803(_0x9ebe('0x121'),this,{'commandName':_0x2cd5ef});this[_0x9ebe('0xdb')][_0x9ebe('0x104')](_0x740185),_0x15a6db&&_0x740185['on']('execute',(_0x5ef923,_0x541c99)=>{this[_0x9ebe('0x49')][_0x9ebe('0xdd')]&&(this['_isForcedDefaultExecutionBlock']||_0x541c99[_0x9ebe('0xb')]>0x0&&_0x541c99[_0x541c99[_0x9ebe('0xb')]-0x1]&&_0x541c99[_0x541c99['length']-0x1][_0x9ebe('0x94')]||(_0x15a6db((..._0x2013b4)=>_0x740185[_0x9ebe('0xff')](..._0x2013b4,{'forceDefaultExecution':!0x0}),..._0x541c99),_0x5ef923['stop']()));},{'priority':'high'});}[_0x9ebe('0x94')](_0x3cbe36){let _0x1391eb,_0x4a9b5b;const _0x2cd869=this[_0x9ebe('0x4b')];this[_0x9ebe('0x4b')]=!0x0;try{_0x1391eb=_0x3cbe36();}catch(_0x5ccede){_0x4a9b5b=_0x5ccede;}return _0x2cd869||(this[_0x9ebe('0x4b')]=!0x1),_0x4a9b5b&&_0x168803[_0x9ebe('0x118')](_0x4a9b5b,this),_0x1391eb;}['markInsertion'](_0x2903d0,_0x4943af=null,_0x587fd5={}){if(_0x2903d0[_0x9ebe('0x6d')])return null;const _0x4896e0=this[_0x9ebe('0xb1')][_0x9ebe('0x2f')][_0x9ebe('0x24')](_0x9ebe('0x120'))['me'];for(const {suggestion:_0x2ba625,meta:_0x2d2f66}of this[_0x9ebe('0x14')](_0x2903d0,_0x9ebe('0x25')))if(_0x2d2f66[_0x9ebe('0x4a')]){if(!_0x2d2f66[_0x9ebe('0xe5')])return _0x2ba625;if(_0x4943af==_0x2ba625[_0x9ebe('0x2d')]){const _0x9c37f=_0x2ba625[_0x9ebe('0xe2')]();return _0x9c37f[_0x9ebe('0x8f')][_0x9ebe('0xdf')](_0x2903d0['end'])?this[_0x9ebe('0x59')](_0x2ba625,this[_0x9ebe('0x60')][_0x9ebe('0x11c')](_0x2903d0[_0x9ebe('0x8f')],_0x9c37f[_0x9ebe('0x89')])):this[_0x9ebe('0x59')](_0x2ba625,this[_0x9ebe('0x60')][_0x9ebe('0x11c')](_0x9c37f['start'],_0x2903d0['end'])),_0x2ba625;}}const _0x59990a=_0x4e3532(),_0x2c9aad=_0x4896e0['id'],_0x513555=_0x4943af?_0x9ebe('0x6e')+_0x4943af:_0x9ebe('0x25'),_0x574d59=this[_0x9ebe('0x41')]({'id':_0x59990a,'type':_0x513555,'createdAt':new Date(),'authorId':_0x2c9aad,'attributes':_0x587fd5});return this[_0x9ebe('0x67')](_0x513555,_0x59990a,_0x2c9aad,_0x2903d0),_0x574d59;}[_0x9ebe('0xee')](_0x4f2bd8,_0x3c55f3='multi',_0x2d3d0f={}){const _0x526057=this[_0x9ebe('0xb1')][_0x9ebe('0x2f')][_0x9ebe('0x24')]('Users')['me'],_0x3e5ce1=this['_suggestionFactory'][_0x9ebe('0x9a')](_0x9ebe('0x25'),_0x3c55f3,_0x9ebe('0x10b'));for(const _0x2958ef of this[_0x9ebe('0x5b')]())if(_0x2958ef[_0x9ebe('0x6a')]['id']==_0x526057['id']&&_0x9ebe('0x25')==_0x2958ef['type']&&_0x2958ef['subType']==_0x3c55f3&&(_0x3e5ce1(_0x2958ef['getRanges'](),_0x4f2bd8)||_0x3e5ce1(_0x4f2bd8,_0x2958ef[_0x9ebe('0xb2')]()))){for(const _0x88c28 of _0x4f2bd8)_0x2958ef['addRange'](_0x88c28);return _0x2958ef;}for(const _0x498b7d of _0x4f2bd8)for(const {suggestion:_0x4f03d9,meta:_0x3649d0}of this[_0x9ebe('0x14')](_0x498b7d,_0x9ebe('0x25'))){if(!_0x3649d0[_0x9ebe('0x4a')])continue;let _0x188d8f=!0x0;for(const _0x55d4df of _0x4f03d9[_0x9ebe('0xb2')]())for(const _0x1246a7 of _0x4f2bd8)if(!_0x55d4df[_0x9ebe('0x15')](_0x1246a7)){_0x188d8f=!0x1;break;}if(_0x188d8f)return _0x4f03d9;}const _0x423659=_0x4e3532(),_0x50dbf0=_0x526057['id'],_0x505cf2=_0x9ebe('0x6e')+_0x3c55f3,_0x56ba9c=this[_0x9ebe('0x41')]({'id':_0x423659,'type':_0x505cf2,'createdAt':new Date(),'authorId':_0x50dbf0,'attributes':_0x2d3d0f});for(const _0x300a63 of _0x4f2bd8)this[_0x9ebe('0x67')](_0x505cf2,_0x423659,_0x50dbf0,_0x300a63,_0x428cce[_0x9ebe('0xa6')]());return _0x56ba9c;}['markInlineFormat'](_0x23acdb,_0x1b3b51,_0x3ba164=null,_0x138b31={}){if(_0x3ba164=_0x3ba164||$t(_0x1b3b51),_0x23acdb[_0x9ebe('0x6d')])return null;if(!0x1===this[_0x9ebe('0x122')]){const _0x2cbc6c=this[_0x9ebe('0xec')]['getSuggestionCallback']('formatInline',_0x3ba164,_0x9ebe('0x125'));return this['forceDefaultExecution'](()=>_0x2cbc6c([_0x23acdb],_0x1b3b51,_0x138b31)),null;}const _0x528ba4=this[_0x9ebe('0xb1')][_0x9ebe('0x2f')][_0x9ebe('0x24')](_0x9ebe('0x120'))['me'],_0x3f7813=[];for(const {suggestion:_0xffe180,meta:_0x19c01e}of this[_0x9ebe('0x14')](_0x23acdb,'insertion'))_0x19c01e[_0x9ebe('0x4a')]&&!_0x19c01e[_0x9ebe('0x0')]&&_0x3f7813[_0x9ebe('0x66')](..._0xffe180['getRanges']());const _0x18a910=function(_0x2f73dd,_0x3382d7){const _0x409a5b=[];for(const _0x1c2e95 of _0x3382d7){const _0x1c941c=_0x2f73dd[_0x9ebe('0xf6')](_0x1c2e95);_0x1c941c&&_0x409a5b[_0x9ebe('0x66')](_0x1c941c);}return _0x409a5b;}(_0x23acdb,_0x3f7813),_0x355bd0=function(_0x97fa20,_0x3ed068){const _0x41f045=[_0x97fa20];for(const _0x1752e1 of _0x3ed068){let _0x47be28=0x0;for(;_0x47be28<_0x41f045['length'];){const _0x52f39f=_0x41f045[_0x47be28][_0x9ebe('0xbf')](_0x1752e1);_0x41f045['splice'](_0x47be28,0x1,..._0x52f39f),_0x47be28+=_0x52f39f[_0x9ebe('0xb')];}}return _0x41f045;}(_0x23acdb,_0x3f7813);_0x18a910[_0x9ebe('0xb')]&&this[_0x9ebe('0x60')][_0x9ebe('0x45')](()=>{for(const _0x4adbb8 of _0x18a910){const _0x43c2ff=this[_0x9ebe('0xec')]['getSuggestionCallback'](_0x9ebe('0x50'),_0x3ba164,_0x9ebe('0x125'));this['forceDefaultExecution'](()=>_0x43c2ff([_0x4adbb8],_0x1b3b51,_0x138b31));}});for(const _0x37de74 of _0x355bd0){let _0x3784f1=null,_0x3bfdd1=_0x37de74[_0x9ebe('0x8f')],_0x43ee04=_0x37de74[_0x9ebe('0x89')];for(const {suggestion:_0x3a370,meta:_0x4af832}of this['_findSuggestions'](_0x37de74,_0x9ebe('0x50'))){if(!_0x4af832['isOwn'])continue;if(_0x3a370[_0x9ebe('0x2d')]!=_0x3ba164)continue;const _0xab4764=_0x3a370[_0x9ebe('0xe2')]();if(_0xab4764['containsRange'](_0x37de74,!0x0))return null;_0x3bfdd1=_0x3bfdd1[_0x9ebe('0xb5')](_0xab4764[_0x9ebe('0x8f')])?_0x3bfdd1:_0xab4764[_0x9ebe('0x8f')],_0x43ee04=_0x43ee04[_0x9ebe('0x127')](_0xab4764[_0x9ebe('0x89')])?_0x43ee04:_0xab4764[_0x9ebe('0x89')],_0x3784f1?_0xab4764[_0x9ebe('0x8f')]['isBefore'](_0x3784f1[_0x9ebe('0xe2')]()[_0x9ebe('0x8f')])?(_0x3784f1[_0x9ebe('0x3c')](),_0x3784f1=_0x3a370):_0x3a370[_0x9ebe('0x3c')]():_0x3784f1=_0x3a370;}const _0x86603c=this[_0x9ebe('0x60')][_0x9ebe('0x11c')](_0x3bfdd1,_0x43ee04);if(_0x3784f1)this['_setSuggestionRange'](_0x3784f1,_0x86603c);else{const _0x1e2db1=_0x4e3532(),_0x14bd0b=_0x528ba4['id'];this[_0x9ebe('0x41')]({'id':_0x1e2db1,'type':'formatInline:'+_0x3ba164,'data':_0x1b3b51,'createdAt':new Date(),'authorId':_0x14bd0b,'attributes':_0x138b31}),this[_0x9ebe('0x67')](_0x9ebe('0x52')+_0x3ba164,_0x1e2db1,_0x14bd0b,_0x86603c);}}return null;}['markBlockFormat'](_0x5cb96c,_0x22d60c,_0x8e5acb=[],_0x1865f9=null,_0x3dad79={}){_0x22d60c[_0x9ebe('0x87')]||(_0x22d60c['formatGroupId']=_0x22d60c[_0x9ebe('0xf4')]),_0x22d60c[_0x9ebe('0xd3')]=_0x5cb96c['is'](_0x9ebe('0x107')),_0x1865f9=_0x1865f9||$t(_0x22d60c);const _0x497611=_0x8e5acb[_0x9ebe('0xb9')](_0x32b82f=>Rt(_0x32b82f,this[_0x9ebe('0x60')])),_0xd500e7=_0x5cb96c['is'](_0x9ebe('0x107'))?_0x5cb96c:Rt(_0x5cb96c,this[_0x9ebe('0x60')]);if(!0x1===this[_0x9ebe('0x122')]){const _0x32c698=this[_0x9ebe('0xec')][_0x9ebe('0x9a')](_0x9ebe('0x92'),_0x1865f9,'accept');return this[_0x9ebe('0x94')](()=>_0x32c698([_0xd500e7],_0x22d60c,_0x3dad79)),null;}_0x497611[_0x9ebe('0x66')](_0xd500e7);let _0x173aa8=!0x0;for(const _0x27871c of _0x497611)if(!this[_0x9ebe('0xfa')](_0x27871c)){_0x173aa8=!0x1;break;}if(_0x173aa8){const _0x251883=this[_0x9ebe('0xec')][_0x9ebe('0x9a')]('formatBlock',_0x1865f9,_0x9ebe('0x125'));return this[_0x9ebe('0x94')](()=>_0x251883([_0xd500e7],_0x22d60c,_0x3dad79)),null;}let _0x40c552=null,_0x3fb4ba=_0xd500e7[_0x9ebe('0x8f')],_0x1d7268=_0xd500e7['end'];for(const {suggestion:_0x5d0c30,meta:_0x2c4269}of this['_findSuggestions'](_0xd500e7,_0x9ebe('0x92'))){if(!_0x2c4269[_0x9ebe('0x4a')]||_0x2c4269[_0x9ebe('0xe5')]||_0x2c4269[_0x9ebe('0x56')]||_0x2c4269[_0x9ebe('0x0')])continue;if(_0x5d0c30['data'][_0x9ebe('0x87')]!=_0x22d60c[_0x9ebe('0x87')])continue;const _0x10ed5e=_0x5d0c30[_0x9ebe('0xe2')]();if(_0x5d0c30[_0x9ebe('0x2d')]==_0x1865f9){if(_0x10ed5e[_0x9ebe('0x15')](_0xd500e7,!0x0))return null;_0x3fb4ba=_0x3fb4ba['isBefore'](_0x10ed5e['start'])?_0x3fb4ba:_0x10ed5e['start'],_0x1d7268=_0x1d7268[_0x9ebe('0x127')](_0x10ed5e[_0x9ebe('0x89')])?_0x1d7268:_0x10ed5e[_0x9ebe('0x89')],_0x40c552?_0x10ed5e[_0x9ebe('0x8f')][_0x9ebe('0xb5')](_0x40c552['getFirstRange']()[_0x9ebe('0x8f')])?(_0x40c552[_0x9ebe('0x3c')](),_0x40c552=_0x5d0c30):_0x5d0c30[_0x9ebe('0x3c')]():_0x40c552=_0x5d0c30;}else{const _0x1cb9a4=_0xd500e7[_0x9ebe('0xf6')](_0x10ed5e);this['_cutOutSuggestionMarker'](_0x5d0c30,_0x1cb9a4);}}const _0x729c84=this['editor'][_0x9ebe('0x2f')][_0x9ebe('0x24')]('Users')['me'],_0x50c5f9=_0x4e3532(),_0xb4d25e=_0x729c84['id'];if(_0x40c552)return this[_0x9ebe('0x59')](_0x40c552,this[_0x9ebe('0x60')]['createRange'](_0x3fb4ba,_0x1d7268)),_0x40c552;{const _0x33fbd0=this[_0x9ebe('0x41')]({'id':_0x50c5f9,'type':_0x9ebe('0xca')+_0x1865f9,'data':_0x22d60c,'createdAt':new Date(),'authorId':_0xb4d25e,'attributes':_0x3dad79});return this[_0x9ebe('0x67')](_0x9ebe('0xca')+_0x1865f9,_0x50c5f9,_0xb4d25e,this['_model']['createRange'](_0x3fb4ba,_0x1d7268)),_0x33fbd0;}}[_0x9ebe('0xf7')](_0x4be03f,_0x57dee3,_0x3cab08=[],_0x4c9fe3=null,_0x28ce50={}){_0x57dee3[_0x9ebe('0x87')]||(_0x57dee3[_0x9ebe('0x87')]=_0x57dee3[_0x9ebe('0xf4')]);const _0x36481e=_0x4be03f[0x0];_0x57dee3['multipleBlocks']=_0x36481e['is'](_0x9ebe('0x107')),_0x4c9fe3=_0x4c9fe3||$t(_0x57dee3);const _0x533138=_0x3cab08[_0x9ebe('0xb9')](_0x5971f8=>Rt(_0x5971f8,this[_0x9ebe('0x60')])),_0x1318f9=_0x36481e['is'](_0x9ebe('0x107'))?_0x4be03f:_0x4be03f[_0x9ebe('0xb9')](_0x51d8bc=>Rt(_0x51d8bc,this['_model']));if(!0x1===this[_0x9ebe('0x122')]){const _0x16c55d=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x4c9fe3,_0x9ebe('0x125'));return this[_0x9ebe('0x94')](()=>_0x16c55d(_0x1318f9,_0x57dee3,_0x28ce50)),null;}_0x533138['push'](..._0x1318f9);let _0x2161f2=!0x0;for(const _0xc275c5 of _0x533138)if(!this[_0x9ebe('0xfa')](_0xc275c5)){_0x2161f2=!0x1;break;}if(_0x2161f2){const _0x2de637=this[_0x9ebe('0xec')][_0x9ebe('0x9a')](_0x9ebe('0x92'),_0x4c9fe3,'accept');return this[_0x9ebe('0x94')](()=>_0x2de637(_0x1318f9,_0x57dee3,_0x28ce50)),null;}const _0x2be6cc=this['editor'][_0x9ebe('0x2f')]['get']('Users')['me'];for(const _0x253d80 of this[_0x9ebe('0x5b')]()){if(_0x253d80['author']['id']!=_0x2be6cc['id'])continue;if('formatBlock'!=_0x253d80[_0x9ebe('0x44')]||_0x253d80[_0x9ebe('0x6')][_0x9ebe('0x87')]!=_0x57dee3[_0x9ebe('0x87')])continue;const _0x40db9d=_0x253d80['subType']==_0x4c9fe3;for(let _0x1982bf=0x0;_0x1982bf<_0x1318f9[_0x9ebe('0xb')];_0x1982bf++){const _0x3e9fb0=_0x1318f9[_0x1982bf];for(const _0x35e8f1 of _0x253d80[_0x9ebe('0x72')]()){const _0x561118=_0x35e8f1[_0x9ebe('0xf5')]();if(_0x3e9fb0[_0x9ebe('0xdf')](_0x561118)){_0x40db9d?(_0x1318f9['splice'](_0x1982bf,0x1),_0x1982bf--):_0x253d80[_0x9ebe('0xc8')](_0x35e8f1[_0x9ebe('0xcd')]);break;}}}}if(0x0==_0x1318f9[_0x9ebe('0xb')])return null;const _0x25c401=this['_suggestionFactory']['getSuggestionCallback'](_0x9ebe('0x92'),_0x4c9fe3,'join');for(const _0x3d84d3 of this[_0x9ebe('0x5b')]())if(_0x3d84d3['author']['id']==_0x2be6cc['id']&&_0x9ebe('0x92')==_0x3d84d3['type']&&_0x3d84d3[_0x9ebe('0x6')][_0x9ebe('0x87')]==_0x57dee3[_0x9ebe('0x87')]&&_0x3d84d3[_0x9ebe('0x2d')]==_0x4c9fe3&&(_0x25c401(_0x3d84d3[_0x9ebe('0xb2')](),_0x1318f9)||_0x25c401(_0x1318f9,_0x3d84d3[_0x9ebe('0xb2')]()))){for(const _0x163b82 of _0x1318f9)_0x3d84d3[_0x9ebe('0x138')](_0x163b82);return _0x3d84d3;}const _0x400c03=_0x4e3532(),_0x4ef0a0=_0x2be6cc['id'],_0x47c59f='formatBlock:'+_0x4c9fe3,_0x67c2b5=this['_setSuggestionData']({'id':_0x400c03,'type':_0x47c59f,'data':_0x57dee3,'createdAt':new Date(),'authorId':_0x4ef0a0,'attributes':_0x28ce50});for(const _0x2a7dae of _0x1318f9)this[_0x9ebe('0x67')](_0x47c59f,_0x400c03,_0x4ef0a0,_0x2a7dae,_0x428cce[_0x9ebe('0xa6')]());return _0x67c2b5;}[_0x9ebe('0x29')](_0x3f5d52,_0x27c61e=null,_0x595989={}){if(_0x3f5d52[_0x9ebe('0x6d')])return null;const _0x543ffb=this[_0x9ebe('0xb1')][_0x9ebe('0x2f')][_0x9ebe('0x24')](_0x9ebe('0x120'))['me'],_0x4065ad=new _0x5ea0ee(_0x3f5d52[_0x9ebe('0x8f')],_0x3f5d52[_0x9ebe('0x89')]);for(const {suggestion:_0x39ab01,meta:_0xa99a05}of this['_findSuggestions'](_0x4065ad,_0x9ebe('0x25')))if(_0xa99a05[_0x9ebe('0x4a')]&&!_0xa99a05[_0x9ebe('0xe5')]){if(_0x39ab01['isMultiRange']){const _0x3eddcb=_0x39ab01[_0x9ebe('0xb2')]()[_0x9ebe('0x80')](_0x1cea3b=>_0x9ebe('0x3d')!=_0x1cea3b[_0x9ebe('0xc3')][_0x9ebe('0x4e')]);_0x3eddcb[_0x9ebe('0xeb')](_0xef9093=>_0x4065ad[_0x9ebe('0x15')](_0xef9093,!0x0))&&_0x39ab01[_0x9ebe('0x23')]();if(_0x3eddcb[_0x9ebe('0xf9')](_0x5e3351=>_0x5e3351[_0x9ebe('0x15')](_0x4065ad,!0x0))){const _0x565f31=this[_0x9ebe('0xec')][_0x9ebe('0x9a')](_0x9ebe('0xf1'),_0x27c61e,_0x9ebe('0x125'));return this[_0x9ebe('0x94')](()=>_0x565f31([_0x4065ad],null,_0x595989)),null;}}else{const _0x2eb63f=_0x4065ad[_0x9ebe('0xf6')](_0x39ab01[_0x9ebe('0xe2')]());_0x39ab01[_0x9ebe('0xb0')]([_0x2eb63f],null,_0x595989);}}if(_0x4065ad['detach'](),_0x4065ad['isCollapsed']||_0x9ebe('0x3d')==_0x4065ad[_0x9ebe('0xc3')]['rootName'])return null;let _0x3855ba=null,_0x4da7c0=_0x4065ad[_0x9ebe('0x8f')],_0x5ed9bd=_0x4065ad[_0x9ebe('0x89')];for(const {suggestion:_0x31d074,meta:_0x420d79}of this[_0x9ebe('0x14')](_0x4065ad,_0x9ebe('0xf1')))if(_0x420d79[_0x9ebe('0x4a')]){if(_0x31d074[_0x9ebe('0x12f')]){let _0x5e0158=!0x0;for(const _0x42a428 of _0x31d074[_0x9ebe('0xb2')]()){if(_0x42a428[_0x9ebe('0x15')](_0x4065ad,!0x0))return _0x31d074;_0x4065ad[_0x9ebe('0x15')](_0x42a428)||(_0x5e0158=!0x1);}_0x5e0158&&_0x31d074['discard']();}else{const _0x5cc7ee=_0x31d074[_0x9ebe('0xe2')]();if(_0x5cc7ee[_0x9ebe('0x15')](_0x4065ad,!0x0))return _0x31d074;_0x4da7c0=_0x4da7c0['isBefore'](_0x5cc7ee[_0x9ebe('0x8f')])?_0x4da7c0:_0x5cc7ee[_0x9ebe('0x8f')],_0x5ed9bd=_0x5ed9bd[_0x9ebe('0x127')](_0x5cc7ee[_0x9ebe('0x89')])?_0x5ed9bd:_0x5cc7ee[_0x9ebe('0x89')],_0x3855ba?_0x5cc7ee['start'][_0x9ebe('0xb5')](_0x3855ba[_0x9ebe('0xe2')]()[_0x9ebe('0x8f')])?(_0x3855ba[_0x9ebe('0x3c')](),_0x3855ba=_0x31d074):_0x31d074['removeMarkers']():_0x3855ba=_0x31d074;}}if(_0x3855ba)return this['_setSuggestionRange'](_0x3855ba,this[_0x9ebe('0x60')][_0x9ebe('0x11c')](_0x4da7c0,_0x5ed9bd)),_0x3855ba;{const _0xe3be0b=_0x4e3532(),_0x5798ec=this['_model'][_0x9ebe('0x11c')](_0x4da7c0,_0x5ed9bd),_0xd4e0e9=_0x543ffb['id'],_0x1c84d9=_0x27c61e?_0x9ebe('0x1d')+_0x27c61e:_0x9ebe('0xf1'),_0x99f615=this['_setSuggestionData']({'id':_0xe3be0b,'type':_0x1c84d9,'createdAt':new Date(),'authorId':_0xd4e0e9,'attributes':_0x595989});return this[_0x9ebe('0x67')](_0x1c84d9,_0xe3be0b,_0xd4e0e9,_0x5798ec),_0x99f615;}}[_0x9ebe('0x13')](_0x30a7cf,_0x15d86b=_0x9ebe('0xab'),_0x49b9d4={}){const _0x314091=this[_0x9ebe('0xb1')]['plugins'][_0x9ebe('0x24')](_0x9ebe('0x120'))['me'],_0x129fbd=_0x30a7cf[_0x9ebe('0xb9')](_0x2626cc=>new _0x5ea0ee(_0x2626cc[_0x9ebe('0x8f')],_0x2626cc[_0x9ebe('0x89')])),_0x1c889f=new Set();for(const _0x2388c6 of _0x129fbd)for(const {suggestion:_0x415bbe,meta:_0x3d3982}of this[_0x9ebe('0x14')](_0x2388c6,_0x9ebe('0x25')))_0x3d3982[_0x9ebe('0x4a')]&&!_0x3d3982[_0x9ebe('0xe5')]&&_0x1c889f['add'](_0x415bbe);for(const _0x3df963 of _0x1c889f)if(_0x3df963[_0x9ebe('0x12f')]){const _0x71b749=_0x3df963[_0x9ebe('0xb2')]();(!_0x3df963[_0x9ebe('0x128')]||!_0x3df963['attributes'][_0x9ebe('0x114')])&&(_0x71b749[_0x9ebe('0xeb')](_0x43da1c=>_0x129fbd[_0x9ebe('0xf9')](_0x3ba273=>_0x3ba273[_0x9ebe('0x15')](_0x43da1c,!0x0)))&&_0x3df963['discard']());if(_0x129fbd[_0x9ebe('0xeb')](_0xc5fdd9=>_0x71b749[_0x9ebe('0xf9')](_0x35f05e=>_0x35f05e[_0x9ebe('0x15')](_0xc5fdd9,!0x0)))){const _0x1c47ad=this[_0x9ebe('0xec')][_0x9ebe('0x9a')]('deletion',_0x15d86b,_0x9ebe('0x125'));return this[_0x9ebe('0x94')](()=>_0x1c47ad(_0x30a7cf,null,_0x49b9d4)),null;}}else{const _0x443760=_0x3df963[_0x9ebe('0xe2')]();_0x129fbd[_0x9ebe('0xf9')](_0x1355d3=>_0x1355d3[_0x9ebe('0x15')](_0x443760,!0x0))&&_0x3df963[_0x9ebe('0x23')]();if(_0x129fbd['every'](_0x221af2=>_0x443760[_0x9ebe('0x15')](_0x221af2,!0x0))){const _0x407a8=this[_0x9ebe('0xec')]['getSuggestionCallback'](_0x9ebe('0xf1'),_0x15d86b,_0x9ebe('0x125'));return this[_0x9ebe('0x94')](()=>_0x407a8(_0x129fbd,null,_0x49b9d4)),null;}}const _0x21199e=this[_0x9ebe('0xec')][_0x9ebe('0x9a')](_0x9ebe('0xf1'),_0x15d86b,_0x9ebe('0x10b'));let _0x104488=null;for(const _0x4d0556 of this[_0x9ebe('0x5b')]())if(_0x4d0556[_0x9ebe('0x6a')]['id']==_0x314091['id']&&_0x4d0556[_0x9ebe('0x12')]&&_0x9ebe('0xf1')==_0x4d0556[_0x9ebe('0x44')]&&_0x4d0556[_0x9ebe('0x2d')]==_0x15d86b&&(_0x21199e(_0x4d0556['getRanges'](),_0x129fbd)||_0x21199e(_0x129fbd,_0x4d0556['getRanges']()))){if(_0x104488){if(_0x4d0556[_0x9ebe('0x6c')]&&_0x4d0556[_0x9ebe('0x6c')][_0x9ebe('0xb')])continue;for(const _0x2a5bc3 of _0x4d0556[_0x9ebe('0xb2')]())_0x104488[_0x9ebe('0xcc')](_0x2a5bc3)||_0x104488[_0x9ebe('0x138')](_0x2a5bc3);_0x4d0556[_0x9ebe('0x3c')]();}else{_0x104488=_0x4d0556;for(const _0x32f65a of _0x129fbd)_0x4d0556[_0x9ebe('0xcc')](_0x32f65a)||_0x4d0556['addRange'](_0x32f65a);}}if(_0x104488)return _0x104488;_0x1c889f[_0x9ebe('0x71')]();for(const _0x12f2d9 of _0x129fbd)for(const {suggestion:_0x10187c,meta:_0x469f09}of this['_findSuggestions'](_0x12f2d9,'deletion'))_0x469f09['isOwn']&&_0x1c889f[_0x9ebe('0x104')](_0x10187c);for(const _0x15b8e8 of _0x1c889f){const _0xe28e53=_0x15b8e8['getRanges']();if(!_0x49b9d4||!_0x49b9d4[_0x9ebe('0x114')]){if(_0x129fbd['every'](_0x46eb58=>_0xe28e53[_0x9ebe('0xf9')](_0x49e56b=>_0x49e56b[_0x9ebe('0x15')](_0x46eb58,!0x0))))return _0x15b8e8;}(!_0x15b8e8[_0x9ebe('0x128')]||!_0x15b8e8[_0x9ebe('0x128')][_0x9ebe('0x114')])&&(_0xe28e53['every'](_0x2717ee=>_0x129fbd[_0x9ebe('0xf9')](_0x25c693=>_0x25c693[_0x9ebe('0x15')](_0x2717ee,!0x0)))&&_0x15b8e8[_0x9ebe('0x23')]());}const _0x49739e=_0x4e3532(),_0xf95dfb=_0x314091['id'],_0xdd0850=_0x9ebe('0x1d')+_0x15d86b,_0x1201ed=this[_0x9ebe('0x41')]({'id':_0x49739e,'type':_0xdd0850,'createdAt':new Date(),'authorId':_0xf95dfb,'attributes':_0x49b9d4});for(const _0x4305c0 of _0x129fbd)_0x4305c0[_0x9ebe('0x132')](),_0x4305c0['isCollapsed']||_0x9ebe('0x3d')==_0x4305c0[_0x9ebe('0xc3')]['rootName']||this[_0x9ebe('0x67')](_0xdd0850,_0x49739e,_0xf95dfb,_0x4305c0,_0x428cce[_0x9ebe('0xa6')]());return _0x1201ed;}[_0x9ebe('0x59')](_0x34eec0,_0x337850){const _0x5ee305=_0x34eec0[_0x9ebe('0xa9')]();this[_0x9ebe('0x60')][_0x9ebe('0x45')](_0x4436b8=>{_0x4436b8[_0x9ebe('0xe0')](_0x5ee305,{'range':_0x337850});});}['_addThreadToSuggestion'](_0x43198e){const _0x1c842d=_0x43198e['id'],_0x30d77f=this[_0x9ebe('0xb1')][_0x9ebe('0x7')][_0x9ebe('0x24')](_0x9ebe('0x3f'));this[_0x9ebe('0x5a')]['hasCommentThread'](_0x1c842d)||this['_commentsRepository'][_0x9ebe('0xf0')]({'channelId':_0x30d77f,'threadId':_0x1c842d,'isResolvable':!0x1,'isSubmitted':!0x0});const _0x574ba1=this['_commentsRepository'][_0x9ebe('0xb7')](_0x1c842d);_0x574ba1[_0x9ebe('0x16')](_0x9ebe('0x6f')),_0x574ba1[_0x9ebe('0x6f')]=!0x1,_0x43198e[_0x9ebe('0x6c')]=_0x574ba1;}[_0x9ebe('0x40')](_0x30ae75,_0x5d3412,_0x552fda,_0x258de4){if(_0x30ae75[_0x9ebe('0x44')]!=_0x5d3412||_0x30ae75[_0x9ebe('0x2d')]!=_0x552fda||_0x30ae75[_0x9ebe('0x106')]['id']!=_0x258de4)throw this['editor']['enableReadOnlyMode'](_0x9ebe('0x7c')),new _0x168803(_0x9ebe('0x7c'),this);}[_0x9ebe('0x88')](_0xc0a97,_0x840b1c){const _0x3ad5c9=_0xc0a97[_0x9ebe('0xe2')]();if(_0x840b1c[_0x9ebe('0xdf')](_0x3ad5c9))_0xc0a97[_0x9ebe('0x3c')]();else{if(_0x3ad5c9[_0x9ebe('0x15')](_0x840b1c)){const _0x502e4c=this[_0x9ebe('0x60')]['createPositionAt'](_0x840b1c[_0x9ebe('0x8f')][_0x9ebe('0x12e')],'end');this[_0x9ebe('0x59')](_0xc0a97,this[_0x9ebe('0x60')][_0x9ebe('0x11c')](_0x3ad5c9[_0x9ebe('0x8f')],_0x502e4c));const _0x414e59=_0x4e3532(),_0x5ca09d=_0xc0a97[_0x9ebe('0x106')]['id'],_0x4a31f6=_0xc0a97[_0x9ebe('0x44')]+':'+_0xc0a97[_0x9ebe('0x2d')];this[_0x9ebe('0x41')]({'id':_0x414e59,'type':_0x4a31f6,'createdAt':new Date(),'authorId':_0x5ca09d,'data':_0xc0a97[_0x9ebe('0x6')],'attributes':_0xc0a97['attributes']});const _0x4d9780=this[_0x9ebe('0x60')][_0x9ebe('0x93')](_0x840b1c[_0x9ebe('0x89')][_0x9ebe('0x10f')],_0x9ebe('0xa8')),_0x32f7f1=this[_0x9ebe('0x60')]['createRange'](_0x4d9780,_0x3ad5c9[_0x9ebe('0x89')]);this[_0x9ebe('0x67')](_0x4a31f6,_0x414e59,_0x5ca09d,_0x32f7f1);}else{if(_0x3ad5c9[_0x9ebe('0xe4')](_0x840b1c[_0x9ebe('0x8f')])){const _0xfce0c0=this[_0x9ebe('0x60')][_0x9ebe('0x93')](_0x840b1c[_0x9ebe('0x8f')][_0x9ebe('0x12e')],'end');this[_0x9ebe('0x59')](_0xc0a97,this[_0x9ebe('0x60')]['createRange'](_0x3ad5c9[_0x9ebe('0x8f')],_0xfce0c0));}else{const _0x29b2c8=this['_model'][_0x9ebe('0x93')](_0x840b1c[_0x9ebe('0x89')][_0x9ebe('0x10f')],_0x9ebe('0xa8'));this[_0x9ebe('0x59')](_0xc0a97,this[_0x9ebe('0x60')][_0x9ebe('0x11c')](_0x29b2c8,_0x3ad5c9['end']));}}}}['_rangeIsInLocalUserInsertion'](_0x2bf8fd){for(const {suggestion:_0x29ee69,meta:_0x2b40c8}of this[_0x9ebe('0x14')](_0x2bf8fd,_0x9ebe('0x25'))){if(!_0x2b40c8[_0x9ebe('0x4a')])continue;const _0x354d11=_0x29ee69[_0x9ebe('0xb2')]();for(const _0x407c9e of _0x354d11)if(!_0x2bf8fd[_0x9ebe('0xbf')](_0x407c9e)[_0x9ebe('0xb')])return!0x0;}return!0x1;}[_0x9ebe('0x8c')](_0x38c41a){const _0x7f2710=this[_0x9ebe('0xb1')]['plugins'][_0x9ebe('0x24')](_0x9ebe('0x120'))[_0x9ebe('0x7b')](_0x38c41a);if(!_0x7f2710)throw new _0x168803('track-changes-user-not-found',this);return _0x7f2710;}[_0x9ebe('0x74')](_0x3af092){const _0x29c53c=this[_0x9ebe('0xb1')][_0x9ebe('0x2f')][_0x9ebe('0x24')](_0x9ebe('0x120')),_0x2799fb=_0x1a7906('external:'+_0x3af092),_0x5423d0=_0x29c53c[_0x9ebe('0x7b')](_0x2799fb);return _0x5423d0||_0x29c53c[_0x9ebe('0xf')]({'id':_0x2799fb,'name':_0x3af092});}[_0x9ebe('0x10e')](_0x5582aa,_0xa5ca2b,_0x357a4b,_0x476e0b,_0xe51e63){const _0x32234c=this['_getAuthorFromId'](_0x476e0b),_0x42d976=this['_suggestionFactory'][_0x9ebe('0xf2')](_0x5582aa,_0xa5ca2b,_0x357a4b,_0x32234c,_0xe51e63,_0x385056=>this['_updateSuggestionData'](_0x357a4b,{'attributes':_0x385056}));return this[_0x9ebe('0x8b')](_0x42d976,_0x9ebe('0x125'),()=>{this[_0x9ebe('0xc2')](_0x357a4b,{'state':'accepted'});},{'priority':_0x9ebe('0xc')}),this[_0x9ebe('0x8b')](_0x42d976,_0x9ebe('0x23'),()=>{this['_updateSuggestionData'](_0x357a4b,{'state':_0x9ebe('0x3')});},{'priority':_0x9ebe('0xc')}),this['_suggestions'][_0x9ebe('0xc4')](_0x357a4b,_0x42d976),this[_0x9ebe('0x105')]['set'](_0x42d976,'notReady'),_0x42d976;}['_splitMarkerName'](_0x50ed47){const _0x36a86d=_0x50ed47['split'](':');return{'group':_0x36a86d[0x0],'type':_0x36a86d[0x1],'subType':_0x36a86d[_0x9ebe('0xb')]>=0x5?_0x36a86d[0x2]:null,'id':_0x36a86d['length']<0x5?_0x36a86d[0x2]:_0x36a86d[0x3],'authorId':_0x36a86d['length']<0x5?_0x36a86d[0x3]:_0x36a86d[0x4],'markerCount':0x6==_0x36a86d[_0x9ebe('0xb')]?_0x36a86d[0x5]:null};}[_0x9ebe('0x113')](_0x4f5469,_0x260262,_0x4263d0){const _0x53eeeb=_0x4f5469[_0x9ebe('0xe2')](),_0x56f15f=_0x53eeeb[_0x9ebe('0x8f')],_0x28545e=_0x53eeeb[_0x9ebe('0x89')];this[_0x9ebe('0x59')](_0x4f5469,this[_0x9ebe('0x60')][_0x9ebe('0x11c')](_0x56f15f,_0x260262));const _0x53e122=_0x4e3532(),_0x572e49=_0x4f5469[_0x9ebe('0x106')]['id'],_0x4783be=_0x4f5469[_0x9ebe('0x44')]+(_0x4f5469[_0x9ebe('0x2d')]?':'+_0x4f5469[_0x9ebe('0x2d')]:'');this[_0x9ebe('0x41')]({'id':_0x53e122,'type':_0x4783be,'createdAt':new Date(),'authorId':_0x572e49,'originalSuggestionId':_0x4f5469['id'],'attributes':_0x4f5469[_0x9ebe('0x128')],'data':_0x4f5469[_0x9ebe('0x6')]}),_0x9ebe('0x92')==_0x4f5469['type']&&(_0x4263d0=this[_0x9ebe('0x60')][_0x9ebe('0x1')](_0x4263d0['parent'])),this[_0x9ebe('0x67')](_0x4783be,_0x53e122,_0x572e49,this[_0x9ebe('0x60')][_0x9ebe('0x11c')](_0x4263d0,_0x28545e));}[_0x9ebe('0x14')](_0x1735f4,_0x434441=null){const _0x13caef=[],_0x24ee41=this[_0x9ebe('0x60')][_0x9ebe('0x3e')],_0x66d5d6=this[_0x9ebe('0xb1')]['plugins'][_0x9ebe('0x24')]('Users')['me'];for(const _0x5a60c8 of this[_0x9ebe('0x5b')]())if(_0x5a60c8['isInContent']&&(!_0x434441||_0x5a60c8[_0x9ebe('0x44')]==_0x434441))for(const _0x576bce of _0x5a60c8[_0x9ebe('0xb2')]()){const _0x3e47cf=_0x1735f4[_0x9ebe('0x8f')][_0x9ebe('0xdf')](_0x576bce[_0x9ebe('0x89')])||_0x1735f4[_0x9ebe('0x89')][_0x9ebe('0xdf')](_0x576bce[_0x9ebe('0x8f')]);if(_0x3e47cf||_0x1735f4[_0x9ebe('0xf6')](_0x576bce)){const _0x171b4e=_0x1735f4[_0x9ebe('0x15')](_0x576bce)&&Bt(_0x24ee41,_0x576bce['start'],_0x1735f4),_0xe9392=_0x576bce[_0x9ebe('0x15')](_0x1735f4)&&Bt(_0x24ee41,_0x1735f4[_0x9ebe('0x8f')],_0x576bce);_0x13caef['push']({'suggestion':_0x5a60c8,'meta':{'isOwn':_0x66d5d6==_0x5a60c8[_0x9ebe('0x6a')],'isNextTo':_0x3e47cf,'isInsideObject':_0x171b4e,'containsRangeInObject':_0xe9392}});break;}}return _0x13caef;}[_0x9ebe('0x67')](_0x497407,_0x558580,_0x48bc77,_0x3e6aa2,_0x4f6fe2){this[_0x9ebe('0x60')][_0x9ebe('0x45')](_0x1826c8=>{let _0x1a5c87=_0x9ebe('0x11f')+_0x497407+':'+_0x558580+':'+_0x48bc77;_0x4f6fe2&&(_0x1a5c87=_0x1a5c87+':'+_0x4f6fe2),_0x1826c8[_0x9ebe('0x5d')](_0x1a5c87,{'range':_0x3e6aa2,'usingOperation':!0x0,'affectsData':!0x0});});}[_0x9ebe('0x4')](_0xe8c8c6){const _0x3cf099=_0xe8c8c6[_0x9ebe('0xa5')],_0x52af48=_0xe8c8c6[_0x9ebe('0x7e')];_0xe8c8c6[_0x9ebe('0xa5')]=null,null!=_0x3cf099&&(_0x3cf099['next']=null),_0xe8c8c6['next']=null,null!=_0x52af48&&(_0x52af48[_0x9ebe('0xa5')]=null),_0x9ebe('0xa7')==this['_suggestionState']['get'](_0xe8c8c6)&&(this[_0x9ebe('0x105')][_0x9ebe('0xc4')](_0xe8c8c6,_0x9ebe('0x64')),this[_0x9ebe('0xd8')](_0x9ebe('0xd2'),_0xe8c8c6,_0x3cf099,_0x52af48));}[_0x9ebe('0x41')](_0x2355f6){const _0x579196=_0x2355f6['id'],_0x26278d=this[_0x9ebe('0x68')](_0x2355f6);if(this['_adapter']&&this[_0x9ebe('0x54')][_0x9ebe('0x10a')]){const _0x1f1980=this[_0x9ebe('0xb1')][_0x9ebe('0x2f')]['get'](_0x9ebe('0x6b')),_0x575dea=_0x26278d[_0x9ebe('0x91')],_0x28abd7=_0x26278d['subType']?_0x26278d[_0x9ebe('0x44')]+':'+_0x26278d['subType']:_0x26278d[_0x9ebe('0x44')],_0x30358b=this[_0x9ebe('0xb1')][_0x9ebe('0xed')],_0x1dc3b9=_0x1f1980[_0x9ebe('0x104')](_0x447cd7(_0x30358b,_0x9ebe('0xd'))),_0x130faa={'id':_0x579196,'type':_0x28abd7,'hasComments':_0x575dea,'data':_0x2355f6[_0x9ebe('0x6')]||null,'originalSuggestionId':_0x2355f6[_0x9ebe('0x95')]||null,'attributes':_0x26278d[_0x9ebe('0x128')]};this[_0x9ebe('0x54')][_0x9ebe('0x10a')](_0x130faa)[_0x9ebe('0xda')](_0x1de65c=>{_0x26278d[_0x9ebe('0x2e')]=!0x0,_0x1f1980['remove'](_0x1dc3b9),_0x1de65c&&_0x1de65c['createdAt']&&(this[_0x9ebe('0x126')][_0x9ebe('0x24')](_0x579196)['createdAt']=_0x1de65c[_0x9ebe('0x81')]);})[_0x9ebe('0x63')](_0xc13e44=>{throw _0x138b14(_0x9ebe('0x97')),this[_0x9ebe('0xb1')]['model'][_0x9ebe('0xcf')]({'isUndoable':!0x1},()=>{_0x26278d[_0x9ebe('0x23')]();}),_0x26278d[_0x9ebe('0x32')](),this[_0x9ebe('0x126')][_0x9ebe('0x22')](_0x26278d['id']),this['_suggestionState'][_0x9ebe('0x22')](_0x26278d),_0xc13e44;});}return _0x26278d;}['_updateSuggestionData'](_0xf9beec,_0x1432f1){const _0x461b02=this[_0x9ebe('0xb1')][_0x9ebe('0x2f')][_0x9ebe('0x24')](_0x9ebe('0x6b')),_0x364445=this['getSuggestion'](_0xf9beec);if(this[_0x9ebe('0x54')]&&this[_0x9ebe('0x54')][_0x9ebe('0x11')]){if(_0x364445[_0x9ebe('0x2e')]){const _0x5b6c24=_0x461b02[_0x9ebe('0x104')](_0x447cd7(this[_0x9ebe('0xb1')][_0x9ebe('0xed')],'PENDING_ACTION_SUGGESTION'));this[_0x9ebe('0x54')][_0x9ebe('0x11')](_0xf9beec,_0x1432f1)['then'](()=>{_0x461b02[_0x9ebe('0xa4')](_0x5b6c24);});}else _0x364445['on'](_0x9ebe('0xc9'),()=>{this[_0x9ebe('0xc2')](_0xf9beec,_0x1432f1);});}}[_0x9ebe('0xa2')](_0x441c9c){if(!this[_0x9ebe('0x54')]||!this[_0x9ebe('0x54')]['getSuggestion'])throw new _0x168803('track-changes-adapter-missing-getsuggestion',this);return this[_0x9ebe('0x54')]['getSuggestion'](_0x441c9c);}['_handleNewSuggestionMarker'](_0x35d4c4){const {id:_0xb7fe99,type:_0x3dcf29,subType:_0x1049a5,authorId:_0x1d473c}=this[_0x9ebe('0x134')](_0x35d4c4),_0x44e33=this[_0x9ebe('0x126')]['get'](_0xb7fe99)||this[_0x9ebe('0x10e')](_0x3dcf29,_0x1049a5,_0xb7fe99,_0x1d473c,{});switch(this[_0x9ebe('0x40')](_0x44e33,_0x3dcf29,_0x1049a5,_0x1d473c),this[_0x9ebe('0x105')][_0x9ebe('0x24')](_0x44e33)){case'notReady':this[_0x9ebe('0xa2')](_0xb7fe99)[_0x9ebe('0xda')](_0x4da716=>{let _0x564cf2=Promise[_0x9ebe('0xb4')]();_0x4da716['hasComments']&&(_0x564cf2=this[_0x9ebe('0x5a')][_0x9ebe('0xe1')]({'channelId':this[_0x9ebe('0xb1')][_0x9ebe('0x7')]['get'](_0x9ebe('0x3f')),'threadId':_0xb7fe99})),_0x564cf2['then'](()=>{this[_0x9ebe('0x68')](_0x4da716)[_0x9ebe('0x2e')]=!0x0;});}),this[_0x9ebe('0x105')][_0x9ebe('0xc4')](_0x44e33,_0x9ebe('0x112'));break;case _0x9ebe('0x64'):this[_0x9ebe('0xc2')](_0xb7fe99,{'state':_0x9ebe('0xc0')});case _0x9ebe('0x8d'):this[_0x9ebe('0x105')][_0x9ebe('0xc4')](_0x44e33,'ready'),this[_0x9ebe('0xd8')]('suggestionLoaded',_0x44e33);break;case _0x9ebe('0xa7'):this[_0x9ebe('0xd8')](_0x9ebe('0x70'),_0x44e33);}return _0x44e33[_0x9ebe('0x27')](_0x35d4c4),_0x44e33;}[_0x9ebe('0x108')](_0x5e2bba){const _0x7b66e8=Array[_0x9ebe('0x130')](_0x5e2bba)[_0x9ebe('0x80')](_0x5266d4=>!_0x5266d4[_0x9ebe('0x12f')]),_0x509850=this[_0x9ebe('0x5b')]({'skipNotAttached':!0x0})[_0x9ebe('0x80')](_0xac6b0c=>!_0xac6b0c[_0x9ebe('0x12f')]),_0x4ba002=_0x509850['filter'](_0x1ac8ba=>!_0x5e2bba[_0x9ebe('0x4c')](_0x1ac8ba)),_0x4be11d=new Map(_0x509850[_0x9ebe('0xb9')](_0x41bc01=>[_0x41bc01,this[_0x9ebe('0xec')][_0x9ebe('0x9a')](_0x41bc01[_0x9ebe('0x44')],_0x41bc01[_0x9ebe('0x2d')],_0x9ebe('0xe'))])),_0x34cae1=new Map(_0x509850['map'](_0x4f1ecf=>[_0x4f1ecf,_0x4f1ecf[_0x9ebe('0xe2')]()])),_0x55de06=new Set(),_0x989dd4=new Set();for(let _0x545427=0x0;_0x545427<_0x7b66e8[_0x9ebe('0xb')];_0x545427++)_0x4c968a(_0x7b66e8[_0x545427],_0x7b66e8,_0x545427+0x1);for(let _0xb1c128=0x0;_0xb1c128<_0x7b66e8[_0x9ebe('0xb')];_0xb1c128++)_0x4c968a(_0x7b66e8[_0xb1c128],_0x4ba002,0x0);for(let _0x59a94d=0x0;_0x59a94d<_0x7b66e8[_0x9ebe('0xb')];_0x59a94d++){const _0xad8d9c=_0x7b66e8[_0x59a94d];!_0x989dd4['has'](_0xad8d9c)&&_0xad8d9c[_0x9ebe('0xa5')]&&(_0xad8d9c['previous'][_0x9ebe('0x7e')]===_0xad8d9c&&(_0xad8d9c[_0x9ebe('0xa5')]['next']=null),_0xad8d9c[_0x9ebe('0xa5')]=null),!_0x55de06['has'](_0xad8d9c)&&_0xad8d9c[_0x9ebe('0x7e')]&&(_0xad8d9c[_0x9ebe('0x7e')][_0x9ebe('0xa5')]===_0xad8d9c&&(_0xad8d9c[_0x9ebe('0x7e')][_0x9ebe('0xa5')]=null),_0xad8d9c['next']=null);}function _0x4c968a(_0x436b46,_0x5a234e,_0x51c6f5){for(let _0x2a404e=_0x51c6f5;_0x2a404e<_0x5a234e[_0x9ebe('0xb')];_0x2a404e++){const _0x1594d6=_0x1e8a93(_0x436b46,_0x5a234e[_0x2a404e]);_0x1594d6&&(_0x1594d6[0x0][_0x9ebe('0x7e')]=_0x1594d6[0x1],_0x1594d6[0x1]['previous']=_0x1594d6[0x0],_0x55de06[_0x9ebe('0x104')](_0x1594d6[0x0]),_0x989dd4['add'](_0x1594d6[0x1]));}}function _0x1e8a93(_0xd62c37,_0x3c529e){if(_0xd62c37[_0x9ebe('0x6a')]['id']!==_0x3c529e[_0x9ebe('0x6a')]['id'])return null;const _0x5e214d=_0x4be11d[_0x9ebe('0x24')](_0xd62c37)(_0xd62c37,_0x3c529e,_0x34cae1[_0x9ebe('0x24')](_0xd62c37),_0x34cae1[_0x9ebe('0x24')](_0x3c529e));if(!_0x5e214d)return null;return _0x4be11d['get'](_0x3c529e)(_0xd62c37,_0x3c529e,_0x34cae1['get'](_0xd62c37),_0x34cae1[_0x9ebe('0x24')](_0x3c529e))?_0x5e214d[0x1][_0x9ebe('0x6c')]&&_0x5e214d[0x1][_0x9ebe('0x6c')][_0x9ebe('0xb')]?null:_0x5e214d:null;}}['_joinWithAdjacentSuggestions'](_0x599ee5){const _0x184e70=Array[_0x9ebe('0x130')](_0x599ee5),_0x558913=this[_0x9ebe('0x5b')]({'skipNotAttached':!0x0}),_0x559008=_0x558913[_0x9ebe('0x80')](_0x1a321c=>!_0x599ee5[_0x9ebe('0x4c')](_0x1a321c)),_0x1f7692=new Map(_0x184e70[_0x9ebe('0xb9')](_0x20a8c3=>[_0x20a8c3,this[_0x9ebe('0xec')][_0x9ebe('0x9a')](_0x20a8c3[_0x9ebe('0x44')],_0x20a8c3['subType'],_0x9ebe('0x10b'))])),_0x504299=new Map(_0x558913[_0x9ebe('0xb9')](_0xeb3b9e=>[_0xeb3b9e,_0xeb3b9e[_0x9ebe('0xb2')]()]));for(let _0x3d7572=0x0;_0x3d7572<_0x184e70[_0x9ebe('0xb')];_0x3d7572++){if(_0x250e12(this,_0x184e70[_0x3d7572],_0x184e70,_0x3d7572+0x1))return!0x0;}for(let _0x545b78=0x0;_0x545b78<_0x184e70['length'];_0x545b78++){if(_0x250e12(this,_0x184e70[_0x545b78],_0x559008,0x0))return!0x0;}return!0x1;function _0x250e12(_0x474be8,_0x5044b0,_0xd61e07,_0x2e46a3){for(let _0x35268f=_0x2e46a3;_0x35268f<_0xd61e07['length'];_0x35268f++){const _0xf67a38=_0xd61e07[_0x35268f];if(_0xf67a38[_0x9ebe('0x44')]!==_0x5044b0['type']||_0xf67a38['author']['id']!==_0x5044b0[_0x9ebe('0x6a')]['id']||_0xf67a38[_0x9ebe('0x2d')]!==_0x5044b0[_0x9ebe('0x2d')])continue;const _0x569e21=_0x1f7692[_0x9ebe('0x24')](_0x5044b0),_0x16ceb4=_0x504299[_0x9ebe('0x24')](_0x5044b0),_0x54c5bf=_0x504299[_0x9ebe('0x24')](_0xf67a38),_0x50789b=_0x5044b0[_0x9ebe('0x6c')]&&_0x5044b0[_0x9ebe('0x6c')][_0x9ebe('0xb')],_0x57eeed=_0xf67a38[_0x9ebe('0x6c')]&&_0xf67a38['commentThread']['length'];if(!_0x50789b&&_0x569e21(_0x54c5bf,_0x16ceb4))return _0x474be8[_0x9ebe('0x35')](_0xf67a38,_0x5044b0),_0x504299[_0x9ebe('0x22')](_0x5044b0),!0x0;if(!_0x57eeed&&_0x569e21(_0x16ceb4,_0x54c5bf))return _0x474be8[_0x9ebe('0x35')](_0x5044b0,_0xf67a38),_0x504299[_0x9ebe('0x22')](_0xf67a38),!0x0;}return!0x1;}}[_0x9ebe('0x35')](_0x492ca3,_0x376621){if(_0x492ca3[_0x9ebe('0x12f')])for(const _0x28cbe1 of _0x376621[_0x9ebe('0xb2')]())_0x492ca3[_0x9ebe('0x138')](_0x28cbe1);else{const _0x441c34=_0x376621[_0x9ebe('0xe2')]()['end'];this[_0x9ebe('0x59')](_0x492ca3,this[_0x9ebe('0x60')][_0x9ebe('0x11c')](_0x492ca3[_0x9ebe('0xe2')]()[_0x9ebe('0x8f')],_0x441c34));}_0x376621[_0x9ebe('0x3c')]();}}class Ct{constructor(_0x381fad){this['_editor']=_0x381fad,this[_0x9ebe('0x60')]=_0x381fad[_0x9ebe('0x86')],this[_0x9ebe('0x37')]=new Map(),this['_defaultCallbacks']=new Map(),this[_0x9ebe('0xf8')]();}[_0x9ebe('0xf2')](_0x499c80,_0x590090,_0x19a853,_0x388168,_0x312bf1,_0xe93442){return new _0x428cce(this[_0x9ebe('0x60')],{'type':_0x499c80,'subType':_0x590090,'id':_0x19a853,'author':_0x388168,'creator':_0x388168,'attributes':_0x312bf1,'onAttributesChange':_0xe93442,'onAccept':(..._0x11bf41)=>this[_0x9ebe('0x9a')](_0x499c80,_0x590090,_0x9ebe('0x125'))(..._0x11bf41),'onDiscard':(..._0x55a0b1)=>this['getSuggestionCallback'](_0x499c80,_0x590090,_0x9ebe('0x23'))(..._0x55a0b1)});}['registerCustomCallback'](_0x6f4da5,_0x4af981,_0x4a48fd,_0x59ee11){const _0x1b438d=_0x6f4da5+':'+_0x4af981+':'+_0x4a48fd;this[_0x9ebe('0x37')][_0x9ebe('0xc4')](_0x1b438d,_0x59ee11);}['getSuggestionCallback'](_0x98bca6,_0x458d05,_0xb21553){const _0x208abc=_0x98bca6+':'+_0x458d05+':'+_0xb21553;return this['_customCallbacks'][_0x9ebe('0x24')](_0x208abc)||this[_0x9ebe('0x79')]['get'](_0x98bca6+':'+_0xb21553);}[_0x9ebe('0xf8')](){const _0x23a7bf=()=>{},_0x38fc84=_0x37ec89=>{_0x37ec89['sort']((_0x1a3294,_0x2f6be9)=>_0x1a3294[_0x9ebe('0x8f')]['isBefore'](_0x2f6be9[_0x9ebe('0x8f')])?0x1:-0x1),this[_0x9ebe('0x60')][_0x9ebe('0x45')](_0x1218cb=>{for(const _0x214d74 of _0x37ec89){let _0x4107c4;_0x4107c4=_0x214d74[_0x9ebe('0x89')]['isAtEnd']&&_0x214d74[_0x9ebe('0x89')][_0x9ebe('0x10f')]==_0x214d74['start'][_0x9ebe('0x1b')]?_0x1218cb[_0x9ebe('0x18')](_0x214d74[_0x9ebe('0x8f')][_0x9ebe('0x1b')],'on'):_0x1218cb['createSelection'](_0x214d74),this[_0x9ebe('0x60')][_0x9ebe('0xaf')](_0x4107c4,{'forceDefaultExecution':!0x0,'doNotAutoparagraph':!0x0});}});},_0x100030=(_0x8c1151,_0x7a42fe)=>{this[_0x9ebe('0x60')]['change'](_0x4a4c22=>{const {commandName:_0x1d29b0,commandParams:_0x5b76c1=[]}=_0x7a42fe,_0x85367f=_0x8c1151[_0x9ebe('0xb9')](_0x43cb13=>(_t(_0x43cb13)&&(_0x43cb13=this[_0x9ebe('0x60')][_0x9ebe('0x11c')](_0x43cb13[_0x9ebe('0x89')])),_0x43cb13))[_0x9ebe('0x80')](_0x5b7ace=>_0x9ebe('0x3d')!==_0x5b7ace['root']['rootName']);if(_0x85367f['length']<0x1)return;const _0x107007=Array[_0x9ebe('0x130')](this[_0x9ebe('0x60')][_0x9ebe('0x5')][_0x9ebe('0x8e')][_0x9ebe('0xb2')]())[_0x9ebe('0xb9')](_0x5bcafa=>_0x5ea0ee[_0x9ebe('0xba')](_0x5bcafa));_0x4a4c22['setSelection'](_0x85367f);for(const _0x4b474a of this[_0x9ebe('0x38')][_0x9ebe('0x135')][_0x9ebe('0x135')]())_0x4b474a[_0x9ebe('0xfb')]();_0x5b76c1[_0x9ebe('0x66')]({'forceDefaultExecution':!0x0}),this[_0x9ebe('0x38')]['execute'](_0x1d29b0,..._0x5b76c1);const _0xc8de5f=_0x107007[_0x9ebe('0x80')](_0x390476=>_0x9ebe('0x3d')!=_0x390476[_0x9ebe('0xc3')][_0x9ebe('0x4e')]);_0xc8de5f[_0x9ebe('0xb')]>0x0&&_0x4a4c22['setSelection'](_0xc8de5f);for(const _0x51e3b6 of _0x107007)_0x51e3b6['detach']();});},_0x182017=(_0x4595fe,_0x54f2b7)=>0x1==_0x4595fe[_0x9ebe('0xb')]&&0x1==_0x54f2b7['length']&&_0x4595fe[0x0][_0x9ebe('0x89')][_0x9ebe('0xdf')](_0x54f2b7[0x0][_0x9ebe('0x8f')]),_0x5aa73b=(_0x3a21ef,_0x7d9864,_0x279aac,_0x586ebb)=>xt(_0x3a21ef,_0x7d9864,_0x279aac,_0x586ebb,this[_0x9ebe('0x60')])?[_0x3a21ef,_0x7d9864]:xt(_0x7d9864,_0x3a21ef,_0x586ebb,_0x279aac,this['_model'])?[_0x7d9864,_0x3a21ef]:null;this['_defaultCallbacks'][_0x9ebe('0xc4')]('insertion:accept',_0x23a7bf),this[_0x9ebe('0x79')]['set'](_0x9ebe('0x39'),_0x38fc84),this[_0x9ebe('0x79')][_0x9ebe('0xc4')](_0x9ebe('0xfe'),_0x182017),this[_0x9ebe('0x79')][_0x9ebe('0xc4')](_0x9ebe('0x42'),_0x5aa73b),this[_0x9ebe('0x79')][_0x9ebe('0xc4')](_0x9ebe('0x9e'),_0x38fc84),this[_0x9ebe('0x79')]['set'](_0x9ebe('0x5c'),_0x23a7bf),this[_0x9ebe('0x79')][_0x9ebe('0xc4')](_0x9ebe('0x82'),_0x182017),this[_0x9ebe('0x79')][_0x9ebe('0xc4')](_0x9ebe('0xc5'),_0x5aa73b),this['_defaultCallbacks'][_0x9ebe('0xc4')](_0x9ebe('0xde'),_0x100030),this[_0x9ebe('0x79')][_0x9ebe('0xc4')](_0x9ebe('0x111'),_0x23a7bf),this['_defaultCallbacks'][_0x9ebe('0xc4')](_0x9ebe('0x109'),_0x182017),this[_0x9ebe('0x79')][_0x9ebe('0xc4')]('formatInline:chain',_0x23a7bf),this[_0x9ebe('0x79')][_0x9ebe('0xc4')](_0x9ebe('0x47'),_0x100030),this['_defaultCallbacks'][_0x9ebe('0xc4')](_0x9ebe('0x84'),_0x23a7bf),this[_0x9ebe('0x79')][_0x9ebe('0xc4')](_0x9ebe('0xa3'),_0x182017),this[_0x9ebe('0x79')][_0x9ebe('0xc4')](_0x9ebe('0xea'),_0x23a7bf);}}function Bt(_0x2fa1b4,_0xd81d7a,_0x53a342){for(const _0xfdff08 of _0xd81d7a[_0x9ebe('0x10f')]['getAncestors']({'includeSelf':!0x0,'parentFirst':!0x0})){if(_0xfdff08[_0x9ebe('0xc3')]==_0xfdff08)return!0x1;if(!_0x53a342[_0x9ebe('0x1a')](_0xfdff08))return!0x1;if(_0x2fa1b4[_0x9ebe('0x30')](_0xfdff08)||_0x2fa1b4['isLimit'](_0xfdff08))return!0x0;}return!0x1;}function _t(_0x274bc7){return _0x274bc7['end'][_0x9ebe('0x10f')]==_0x274bc7['start']['nodeAfter']&&_0x274bc7[_0x9ebe('0x89')]['isAtStart'];}function Mt(_0x548384,_0x570d83,_0x283cc8,_0x59533b){const _0xf4566d=_0x168be8=>!_0x168be8[_0x9ebe('0x124')]['is'](_0x9ebe('0xae'))&&!_0x59533b[_0x9ebe('0x30')](_0x168be8[_0x9ebe('0x124')]),_0x556a3b=_0x548384[_0x9ebe('0x8f')][_0x9ebe('0x62')](_0xf4566d),_0x5a2e2a=_0x548384['end'][_0x9ebe('0x62')](_0xf4566d,{'direction':_0x9ebe('0x9b')});return(!_0x548384[_0x9ebe('0x8f')][_0x9ebe('0xdf')](_0x556a3b)||!_0x548384[_0x9ebe('0x89')][_0x9ebe('0xdf')](_0x5a2e2a))&&(_0x556a3b['isBefore'](_0x5a2e2a)?_0x283cc8[_0x9ebe('0xe0')](_0x570d83,{'range':_0x283cc8[_0x9ebe('0x11c')](_0x556a3b,_0x5a2e2a)}):_0x283cc8[_0x9ebe('0xc8')](_0x570d83),!0x0);}function $t(_0x50d2c5){return _0x1a7906(_0x50d2c5);}function Nt(_0x30ec7c){const _0x27a4a4=_0x30ec7c[_0x9ebe('0x8f')]['nodeAfter'];return _0x27a4a4&&_0x27a4a4['is']('element');}function Rt(_0x316e4e,_0x48d6bf){const _0x418b7d=_0x48d6bf['schema']['isObject'](_0x316e4e)||_0x48d6bf[_0x9ebe('0x3e')][_0x9ebe('0xe6')](_0x316e4e);return _0x48d6bf[_0x9ebe('0x11c')](_0x48d6bf[_0x9ebe('0x93')](_0x316e4e,_0x9ebe('0x9f')),_0x418b7d?_0x48d6bf[_0x9ebe('0x7a')](_0x316e4e):_0x48d6bf['createPositionAt'](_0x316e4e,_0x9ebe('0x89')));}function xt(_0x3fda4b,_0x17681f,_0x30746e,_0x588e27,_0x2ef021){if(_0x30746e[_0x9ebe('0x89')][_0x9ebe('0xdf')](_0x588e27[_0x9ebe('0x8f')]))return!0x0;if(_0x3fda4b['type']!=_0x17681f['type'])return!0x1;if(!_0x30746e[_0x9ebe('0x89')][_0x9ebe('0xb8')](_0x588e27[_0x9ebe('0x8f')]))return!0x1;const _0xaa25d8=_0x2ef021[_0x9ebe('0x11c')](_0x30746e[_0x9ebe('0x89')],_0x588e27['start'])[_0x9ebe('0xbd')]();for(const _0x1d7ea5 of _0xaa25d8)if([_0x9ebe('0x11e'),_0x9ebe('0xd6')][_0x9ebe('0x129')](_0x1d7ea5[_0x9ebe('0x44')])&&_0x2ef021[_0x9ebe('0x3e')]['isLimit'](_0x1d7ea5[_0x9ebe('0x124')]))return!0x1;return!0x0;}