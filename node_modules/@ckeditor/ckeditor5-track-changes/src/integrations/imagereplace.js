/*
 *             Copyright (c) 2016 - 2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x1d80=['registerCustomCallback','TrackChangesEditing','get','*Format:*\x20replace\x20image\x20URL','editor','Users','model','markBlockFormat','formatBlock','plugins','data','getSuggestionCallback','getAttribute','getContainedElement','replaceImageSource','change','ImageEditing','format','locale','document','_suggestionFactory','getSelectedElement','enableCommand','afterInit','src','handleSuggestionDescription','has','selection','author','commandName','discard','handleReplaceImageCommand','source','subType','_descriptionFactory'];(function(_0x4de6cb,_0x1d80f4){const _0x1206e6=function(_0xc28704){while(--_0xc28704){_0x4de6cb['push'](_0x4de6cb['shift']());}};_0x1206e6(++_0x1d80f4);}(_0x1d80,0x1ab));const _0x1206=function(_0x4de6cb,_0x1d80f4){_0x4de6cb=_0x4de6cb-0x0;let _0x1206e6=_0x1d80[_0x4de6cb];return _0x1206e6;};import{Plugin as _0x4cdf2c}from'ckeditor5/src/core';import{getTranslation as _0x3952a5}from'../utils/common-translations';export default class Y extends _0x4cdf2c{[_0x1206('0x10')](){if(!this[_0x1206('0x20')][_0x1206('0x2')][_0x1206('0x13')](_0x1206('0x9')))return;const _0x5cd875=this[_0x1206('0x20')]['plugins'][_0x1206('0x1e')](_0x1206('0x1d'));_0x5cd875[_0x1206('0xf')]('replaceImageSource',(_0x20812a,_0x39f198)=>this[_0x1206('0x18')](_0x20812a,_0x39f198)),_0x5cd875['_suggestionFactory'][_0x1206('0x1c')](_0x1206('0x1'),'replaceImageSource','accept',_0x5cd875[_0x1206('0xd')][_0x1206('0x4')](_0x1206('0x1'),null,_0x1206('0x17'))),_0x5cd875[_0x1206('0xd')][_0x1206('0x1c')]('formatBlock',_0x1206('0x7'),_0x1206('0x17'),_0x5cd875[_0x1206('0xd')][_0x1206('0x4')](_0x1206('0x1'),null,'accept')),_0x5cd875[_0x1206('0x1b')]['registerDescriptionCallback'](_0x118ebb=>this[_0x1206('0x12')](_0x118ebb));}[_0x1206('0x18')](_0x1f373d,_0x246306){const _0x5cf216=this[_0x1206('0x20')][_0x1206('0x2')][_0x1206('0x1e')](_0x1206('0x1d')),_0x2ede7b=this[_0x1206('0x20')][_0x1206('0x22')][_0x1206('0xc')][_0x1206('0x14')][_0x1206('0xe')]();this['editor']['model'][_0x1206('0x8')](()=>{let _0x59b07d=_0x2ede7b[_0x1206('0x5')](_0x1206('0x11'));const _0x323a15=this[_0x1206('0x20')][_0x1206('0x2')]['get'](_0x1206('0x21'))['me'];for(const _0x16b80a of _0x5cf216['getSuggestions']({'skipNotAttached':!0x0})){const _0x4f7aa5=_0x16b80a[_0x1206('0x6')]();if(_0x1206('0x7')===_0x16b80a[_0x1206('0x1a')]&&_0x4f7aa5===_0x2ede7b){_0x16b80a[_0x1206('0x15')]!==_0x323a15&&_0x16b80a[_0x1206('0x17')](),_0x59b07d=_0x16b80a[_0x1206('0x3')]['commandParams'][0x0][_0x1206('0x19')];break;}}_0x1f373d(_0x246306),_0x5cf216[_0x1206('0x0')](_0x2ede7b,{'commandName':_0x1206('0x7'),'commandParams':[{'source':_0x59b07d}]},[],_0x1206('0x7'));});}[_0x1206('0x12')](_0x2db3c1){const {data:_0x217e27}=_0x2db3c1;if(_0x217e27&&_0x1206('0x7')===_0x217e27[_0x1206('0x16')]){const _0x8291ff=_0x1206('0x1f');return{'type':_0x1206('0xa'),'content':_0x3952a5(this['editor'][_0x1206('0xb')],_0x8291ff)};}}}