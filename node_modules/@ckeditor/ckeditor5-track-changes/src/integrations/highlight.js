/*
 *             Copyright (c) 2016 - 2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x6c07=['selection','enableCommand','formatInline','afterInit','title','getAttribute','value','model','*Set\x20highlight:*\x20%0','find','isCollapsed','createRange','TrackChangesEditing','toLowerCase','registerDescriptionCallback','getFirstPosition','push','_descriptionFactory','*Remove\x20highlight*','highlight','plugins','backward','commandParams','change','getRanges','format','has','item','editor','HighlightEditing','get'];(function(_0x418c7b,_0x6c072f){const _0xa0c9f0=function(_0x215462){while(--_0x215462){_0x418c7b['push'](_0x418c7b['shift']());}};_0xa0c9f0(++_0x6c072f);}(_0x6c07,0x177));const _0xa0c9=function(_0x418c7b,_0x6c072f){_0x418c7b=_0x418c7b-0x0;let _0xa0c9f0=_0x6c07[_0x418c7b];return _0xa0c9f0;};import{Plugin as _0x330868}from'ckeditor5/src/core';import{getTranslation as _0x1cc14d}from'../utils/common-translations';import{getRangesWithAttribute as _0x25bb1c}from'./utils';export default class K extends _0x330868{[_0xa0c9('0x0')](){const _0x1d0963=this[_0xa0c9('0x19')];if(!_0x1d0963[_0xa0c9('0x11')][_0xa0c9('0x17')](_0xa0c9('0x1a')))return;const _0x582ba9=_0x1d0963[_0xa0c9('0x11')][_0xa0c9('0x1b')](_0xa0c9('0x9'));_0x582ba9[_0xa0c9('0x1d')]('highlight',(_0x5514a5,_0x4fa870={})=>{const _0x1dadc1=_0x1d0963[_0xa0c9('0x4')]['document'][_0xa0c9('0x1c')],_0x2b9e3d=_0x1dadc1[_0xa0c9('0x2')]('highlight');let _0x5edd8a=_0x4fa870[_0xa0c9('0x3')],_0x2aebb7=[];if(_0x1dadc1[_0xa0c9('0x7')]){const _0x1f01e3=_0x1dadc1[_0xa0c9('0xc')]();if(!_0x1dadc1['hasAttribute'](_0xa0c9('0x10')))return void _0x5514a5(_0x4fa870);{const _0x2415bd=_0x874624=>_0x874624[_0xa0c9('0x18')][_0xa0c9('0x2')](_0xa0c9('0x10'))===_0x2b9e3d,_0x3c316f=_0x1f01e3['getLastMatchingPosition'](_0x2415bd,{'direction':_0xa0c9('0x12')}),_0x60a9db=_0x1f01e3['getLastMatchingPosition'](_0x2415bd);_0x2aebb7=[_0x1d0963[_0xa0c9('0x4')][_0xa0c9('0x8')](_0x3c316f,_0x60a9db)],_0x5edd8a==_0x2b9e3d&&(_0x5edd8a=null);}}else for(const _0x184ad0 of _0x1dadc1[_0xa0c9('0x15')]())_0x5edd8a?_0x2aebb7[_0xa0c9('0xd')](_0x184ad0):_0x2aebb7[_0xa0c9('0xd')](..._0x25bb1c('highlight',_0x184ad0,_0x1d0963[_0xa0c9('0x4')]));_0x1d0963['model'][_0xa0c9('0x14')](()=>{for(const _0x2d30f0 of _0x2aebb7)_0x582ba9['markInlineFormat'](_0x2d30f0,{'commandName':_0xa0c9('0x10'),'commandParams':[{'value':_0x5edd8a}]});});});const _0x12dcc1=_0x1d0963['locale'];_0x582ba9[_0xa0c9('0xe')][_0xa0c9('0xb')](_0x5114f3=>{const {type:_0xc7f8a8,data:_0x10fd2e}=_0x5114f3;if(_0xa0c9('0x1e')==_0xc7f8a8&&_0x10fd2e&&_0xa0c9('0x10')==_0x10fd2e['commandName']){const _0x2a0699=_0x12dcc1['t'],_0x160897=_0x10fd2e[_0xa0c9('0x13')][0x0][_0xa0c9('0x3')];if(_0x160897){const _0x2cb622=_0x1d0963['config']['get']('highlight.options')[_0xa0c9('0x6')](_0x1df246=>_0x1df246[_0xa0c9('0x4')]==_0x160897),_0x1ecd69=_0x2a0699(_0x2cb622[_0xa0c9('0x1')])[_0xa0c9('0xa')]();return{'type':'format','content':_0x1cc14d(_0x12dcc1,_0xa0c9('0x5'),_0x1ecd69),'color':{'value':_0x2cb622['color'],'title':_0x2cb622['title']}};}return{'type':_0xa0c9('0x16'),'content':_0x1cc14d(_0x12dcc1,_0xa0c9('0xf'),_0x1cc14d(_0x12dcc1,'FORMAT_HIGHLIGHT'))};}});}}