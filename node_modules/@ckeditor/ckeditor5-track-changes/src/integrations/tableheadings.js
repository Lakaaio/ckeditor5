/*
 *             Copyright (c) 2016 - 2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x2294=['locale','showSuggestionHighlights','ck-suggestion-marker-','forceValue','document','registerCustomCallback','formatBlock','createPositionBefore','selection','TableUtils','FORMAT_REGULAR_COLUMN','from','index','first','createPositionAfter','_suggestionFactory','writer','stop','nodeAfter','data','editor','requires','afterInit','unbindElementFromMarkerName','commands','consumable','TableEditing','end','downcastDispatcher','has','plugins','createTableWalker','headingRows','includes','*Format:*\x20%0','isBefore','ck-suggestion-marker--active','setTableColumnHeader','cell','addMarker:suggestion','markerName','childCount','markBlockFormat','getChild','_descriptionFactory','data-suggestion','removeClass','mapper','item','get','headingColumns','_splitMarkerName','highest','findAncestor','FORMAT_HEADER_ROW','markerNameToElements','accept','commandName','activeMarkers','editing','getCellLocation','removeAttribute','createRange','format','table','consume','enableCommand','options','markerRange','value','TrackChangesEditing','last','commandParams','getAttribute','setTableRowHeader','parent','getSelectionAffectedTableCells','toViewElement','setAttribute','registerDescriptionCallback','model','change'];(function(_0x2c1ee9,_0x22947a){const _0x3b32c9=function(_0x62bdc0){while(--_0x62bdc0){_0x2c1ee9['push'](_0x2c1ee9['shift']());}};_0x3b32c9(++_0x22947a);}(_0x2294,0x11d));const _0x3b32=function(_0x2c1ee9,_0x22947a){_0x2c1ee9=_0x2c1ee9-0x0;let _0x3b32c9=_0x2294[_0x2c1ee9];return _0x3b32c9;};import{Plugin as _0xe23478}from'ckeditor5/src/core';import _0x3a46e3 from'./table';import{getTranslation as _0x38158d}from'../utils/common-translations';export default class pt extends _0xe23478{static get[_0x3b32('0x40')](){return[_0x3a46e3];}[_0x3b32('0x41')](){const _0x2b60d8=this[_0x3b32('0x3f')];if(!_0x2b60d8['plugins'][_0x3b32('0x48')](_0x3b32('0x45')))return;const _0x316bfe=_0x2b60d8[_0x3b32('0x2b')],_0x287c4d=_0x2b60d8[_0x3b32('0x49')][_0x3b32('0xa')](_0x3b32('0x1f')),_0x4be1f4=_0x2b60d8[_0x3b32('0x49')][_0x3b32('0xa')](_0x3b32('0x34')),_0x3045ba=_0x2b60d8[_0x3b32('0x49')][_0x3b32('0xa')](_0x3a46e3);function _0x2cb40f({showActiveMarker:_0x14ad39=!0x0,setDataAttribute:_0x4b1d3a=!0x0}={}){return(_0x5f2654,_0x4903f0,_0x5d6c1d)=>{const {type:_0x45b4e8,id:_0x158866}=_0x287c4d[_0x3b32('0xc')](_0x4903f0[_0x3b32('0x1')]),_0x385202=_0x287c4d['getSuggestion'](_0x158866);if(!_0x385202[_0x3b32('0x3e')]||_0x3b32('0x50')!=_0x385202[_0x3b32('0x3e')]['commandName'])return;if(_0x4903f0[_0x3b32('0x9')])return void _0x5f2654[_0x3b32('0x3c')]();if(!_0x5d6c1d[_0x3b32('0x44')][_0x3b32('0x1a')](_0x4903f0[_0x3b32('0x1d')],_0x5f2654['name']))return;const _0x244af4=_0x4903f0[_0x3b32('0x1d')]['start'][_0x3b32('0x3d')],_0x38daf3=_0x4903f0['markerRange'][_0x3b32('0x46')]['nodeBefore'],_0x30992d=_0x244af4[_0x3b32('0x24')][_0x3b32('0x24')],{column:_0x2fb0b9}=_0x4be1f4[_0x3b32('0x15')](_0x244af4),{column:_0x402341}=_0x4be1f4[_0x3b32('0x15')](_0x38daf3);for(let _0x556aa6=_0x2fb0b9;_0x556aa6<=_0x402341;_0x556aa6++){const _0x178982=_0x4be1f4[_0x3b32('0x4a')](_0x30992d,{'column':_0x556aa6,'includeAllSlots':!0x1});for(const _0x2d7c6b of _0x178982){const _0x5ef385=_0x2d7c6b[_0x3b32('0x51')],_0x3afa22=_0x5d6c1d[_0x3b32('0x8')][_0x3b32('0x26')](_0x5ef385);_0x5d6c1d[_0x3b32('0x3b')]['addClass'](_0x3b32('0x2d')+_0x45b4e8,_0x3afa22),_0x4b1d3a&&_0x5d6c1d[_0x3b32('0x3b')][_0x3b32('0x27')](_0x3b32('0x6'),_0x158866,_0x3afa22),_0x5d6c1d[_0x3b32('0x8')]['bindElementToMarker'](_0x3afa22,_0x4903f0[_0x3b32('0x1')]),_0x14ad39&&(_0x287c4d[_0x3b32('0x13')][_0x3b32('0x4c')](_0x4903f0['markerName'])?_0x5d6c1d['writer']['addClass'](_0x3b32('0x4f'),_0x3afa22):_0x5d6c1d[_0x3b32('0x3b')][_0x3b32('0x7')](_0x3b32('0x4f'),_0x3afa22));}}};}_0x287c4d[_0x3b32('0x1b')](_0x3b32('0x23'),(_0xab16d2,_0x471c1c)=>{const _0x58bebe=_0x4be1f4[_0x3b32('0x25')](_0x2b60d8[_0x3b32('0x29')][_0x3b32('0x2f')][_0x3b32('0x33')]),_0xf6d528=_0x4be1f4['getRowIndexes'](_0x58bebe),_0x45c03e=_0x58bebe[0x0][_0x3b32('0xe')](_0x3b32('0x19')),_0x35b7aa=_0x45c03e[_0x3b32('0x22')](_0x3b32('0x4b'))||0x0,_0xc6b258=_0x471c1c&&null!==_0x471c1c[_0x3b32('0x2e')]?_0x471c1c[_0x3b32('0x2e')]:!_0x2b60d8[_0x3b32('0x43')]['get'](_0x3b32('0x23'))[_0x3b32('0x1e')],_0x4e66d9=_0xc6b258?_0xf6d528[_0x3b32('0x20')]:_0xf6d528[_0x3b32('0x38')],_0x2c92de=_0x45c03e[_0x3b32('0x4')](_0x4e66d9);let _0x316641;if(_0xc6b258){const _0xe13de7=_0x45c03e[_0x3b32('0x4')](_0x35b7aa);if(_0x2c92de[_0x3b32('0x37')]<_0xe13de7['index'])return;_0x316641=_0x2b60d8[_0x3b32('0x29')][_0x3b32('0x17')](_0x2b60d8['model'][_0x3b32('0x32')](_0xe13de7[_0x3b32('0x4')](0x0)),_0x2b60d8[_0x3b32('0x29')][_0x3b32('0x39')](_0x2c92de[_0x3b32('0x4')](_0x2c92de[_0x3b32('0x2')]-0x1)));}else{const _0x5ae620=_0x45c03e['getChild'](_0x35b7aa-0x1);if(!_0x5ae620)return;_0x316641=_0x2b60d8['model'][_0x3b32('0x17')](_0x2b60d8[_0x3b32('0x29')][_0x3b32('0x32')](_0x2c92de['getChild'](0x0)),_0x2b60d8[_0x3b32('0x29')][_0x3b32('0x39')](_0x5ae620[_0x3b32('0x4')](_0x5ae620[_0x3b32('0x2')]-0x1)));}_0x2b60d8[_0x3b32('0x29')][_0x3b32('0x2a')](()=>{_0x287c4d['markBlockFormat'](_0x316641,{'commandName':_0x3b32('0x23'),'commandParams':[{'forceValue':_0xc6b258}]},[],'setTableRowHeader');});}),_0x287c4d[_0x3b32('0x1b')](_0x3b32('0x50'),(_0xde6481,_0x1d1b3c)=>{const _0x3aaf40=_0x2b60d8[_0x3b32('0x49')][_0x3b32('0xa')]('TableUtils'),_0x40d6e2=_0x3aaf40['getSelectionAffectedTableCells'](_0x2b60d8['model']['document']['selection']),_0x58f826=_0x3aaf40['getColumnIndexes'](_0x40d6e2),_0x570ecf=_0x40d6e2[0x0]['findAncestor'](_0x3b32('0x19')),_0x55cfc9=_0x570ecf['getAttribute'](_0x3b32('0xb'))||0x0,_0x2c43c2=_0x1d1b3c&&null!==_0x1d1b3c[_0x3b32('0x2e')]?_0x1d1b3c[_0x3b32('0x2e')]:!_0x2b60d8[_0x3b32('0x43')][_0x3b32('0xa')](_0x3b32('0x50'))[_0x3b32('0x1e')];let _0x2738a7;const _0x29c4fd=_0x570ecf[_0x3b32('0x4')](0x0),_0x426387=_0x2c43c2?_0x58f826['last']:_0x58f826[_0x3b32('0x38')],_0xdaf4eb=_0x3aaf40[_0x3b32('0x4a')](_0x570ecf,{'startRow':0x0,'column':_0x426387,'includeAllSlots':!0x1}),_0x8b0b3=Array[_0x3b32('0x36')](_0xdaf4eb)[0x0][_0x3b32('0x51')];if(_0x2c43c2){const _0x2f4113=_0x29c4fd[_0x3b32('0x4')](_0x55cfc9);if(_0x8b0b3[_0x3b32('0x4e')](_0x2f4113))return;_0x2738a7=_0x2b60d8['model'][_0x3b32('0x17')](_0x2b60d8[_0x3b32('0x29')]['createPositionBefore'](_0x2f4113),_0x2b60d8[_0x3b32('0x29')][_0x3b32('0x39')](_0x8b0b3));}else{const _0x3cb9f9=_0x29c4fd[_0x3b32('0x4')](_0x55cfc9-0x1);if(!_0x3cb9f9)return;_0x2738a7=_0x2b60d8[_0x3b32('0x29')]['createRange'](_0x2b60d8[_0x3b32('0x29')][_0x3b32('0x32')](_0x8b0b3),_0x2b60d8[_0x3b32('0x29')][_0x3b32('0x39')](_0x3cb9f9));}_0x2b60d8[_0x3b32('0x29')]['change'](()=>{_0x287c4d[_0x3b32('0x3')](_0x2738a7,{'commandName':_0x3b32('0x50'),'commandParams':[{'forceValue':_0x2c43c2}]},[],_0x3b32('0x50'));});}),_0x2b60d8['editing'][_0x3b32('0x47')]['on'](_0x3b32('0x0'),_0x2cb40f(),{'priority':_0x3b32('0xd')}),_0x2b60d8[_0x3b32('0x3e')][_0x3b32('0x47')]['on'](_0x3b32('0x0'),(_0x1fa8af,_0x3cd83e,_0x389aaf)=>{_0x389aaf[_0x3b32('0x1c')][_0x3b32('0x2c')]&&_0x2cb40f({'showActiveMarker':!0x1,'setDataAttribute':!0x1})(_0x1fa8af,_0x3cd83e,_0x389aaf);},{'priority':_0x3b32('0xd')}),_0x2b60d8[_0x3b32('0x14')][_0x3b32('0x47')]['on']('removeMarker:suggestion',(_0x14673b,_0x19852d,_0xfccdf5)=>{const {type:_0x2850af,id:_0xf08398}=_0x287c4d[_0x3b32('0xc')](_0x19852d[_0x3b32('0x1')]),_0x1b5352=_0x287c4d['getSuggestion'](_0xf08398);if(!_0x1b5352[_0x3b32('0x3e')]||'setTableColumnHeader'!=_0x1b5352[_0x3b32('0x3e')][_0x3b32('0x12')])return;const _0x521045=_0xfccdf5['mapper'][_0x3b32('0x10')](_0x19852d[_0x3b32('0x1')]);if(_0x521045)for(const _0x1cd703 of _0x521045)_0xfccdf5[_0x3b32('0x3b')][_0x3b32('0x7')](_0x3b32('0x2d')+_0x2850af,_0x1cd703),_0xfccdf5[_0x3b32('0x3b')][_0x3b32('0x7')](_0x3b32('0x4f'),_0x1cd703),_0xfccdf5[_0x3b32('0x3b')][_0x3b32('0x16')](_0x3b32('0x6'),_0x1cd703),_0xfccdf5[_0x3b32('0x8')][_0x3b32('0x42')](_0x1cd703,_0x19852d['markerName']);},{'priority':_0x3b32('0xd')}),_0x287c4d[_0x3b32('0x5')][_0x3b32('0x28')](_0x17a51b=>{const {data:_0x2260a8}=_0x17a51b;if(_0x2260a8){if(_0x3b32('0x23')==_0x2260a8['commandName']){const _0x32725f=_0x2260a8[_0x3b32('0x21')][0x0][_0x3b32('0x2e')];return _0x2b1662(_0x38158d(_0x316bfe,_0x32725f?_0x3b32('0xf'):'FORMAT_REGULAR_ROW'));}if(_0x3b32('0x50')==_0x2260a8[_0x3b32('0x12')]){const _0x4997ce=_0x2260a8[_0x3b32('0x21')][0x0]['forceValue'];return _0x2b1662(_0x38158d(_0x316bfe,_0x4997ce?'FORMAT_HEADER_COLUMN':_0x3b32('0x35')));}}function _0x2b1662(_0x1933f2){return{'type':_0x3b32('0x18'),'content':_0x38158d(_0x316bfe,_0x3b32('0x4d'),_0x1933f2)};}});const _0x232816=_0x3045ba['_acceptFormatSuggestionCallbackFactory']();_0x287c4d[_0x3b32('0x3a')][_0x3b32('0x30')]('formatBlock',_0x3b32('0x23'),_0x3b32('0x11'),_0x232816),_0x287c4d[_0x3b32('0x3a')][_0x3b32('0x30')](_0x3b32('0x31'),_0x3b32('0x50'),'accept',_0x232816);}}