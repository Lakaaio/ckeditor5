/*
 *             Copyright (c) 2016 - 2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x4f74=['change','*Set\x20link:*\x20%0','isCollapsed','selection','LinkEditing','locale','format','model','getAttribute','enableCommand','registerDescriptionCallback','hasAttribute','unlink','getRanges','link','markInlineFormat','linkHref','getFirstPosition','from','has','get','document','*Remove\x20link*','editor','_descriptionFactory'];(function(_0x4169f0,_0x4f745c){const _0x5248ae=function(_0x3dff8f){while(--_0x3dff8f){_0x4169f0['push'](_0x4169f0['shift']());}};_0x5248ae(++_0x4f745c);}(_0x4f74,0x177));const _0x5248=function(_0x4169f0,_0x4f745c){_0x4169f0=_0x4169f0-0x0;let _0x5248ae=_0x4f74[_0x4169f0];return _0x5248ae;};import{Plugin as _0x59ddca}from'ckeditor5/src/core';import{findAttributeRange as _0x4dd0c3}from'ckeditor5/src/typing';import{getRangesWithAttribute as _0x58530f}from'./utils';import{getTranslation as _0x3c1894}from'../utils/common-translations';export default class et extends _0x59ddca{['afterInit'](){const _0x506704=this[_0x5248('0x17')];if(!_0x506704['plugins'][_0x5248('0x13')](_0x5248('0x4')))return;const _0x3e6417=_0x506704['plugins'][_0x5248('0x14')]('TrackChangesEditing');_0x3e6417[_0x5248('0x9')]('link',(_0x53f308,_0x2c8ea3)=>{const _0x4ff42c=_0x506704[_0x5248('0x7')][_0x5248('0x15')][_0x5248('0x3')];let _0x468104=[];if(_0x4ff42c[_0x5248('0x2')]){if(!_0x4ff42c[_0x5248('0xb')](_0x5248('0x10')))return void _0x53f308(_0x2c8ea3);{const _0x457868=_0x4dd0c3(_0x4ff42c[_0x5248('0x11')](),_0x5248('0x10'),_0x4ff42c[_0x5248('0x8')]('linkHref'),_0x506704[_0x5248('0x7')]);_0x468104=[_0x457868];}}else _0x468104=Array[_0x5248('0x12')](_0x4ff42c[_0x5248('0xd')]());_0x506704[_0x5248('0x7')][_0x5248('0x0')](()=>{for(const _0xdb9caa of _0x468104)_0x3e6417[_0x5248('0xf')](_0xdb9caa,{'commandName':'link','commandParams':[_0x2c8ea3]});});}),_0x3e6417[_0x5248('0x9')](_0x5248('0xc'),()=>{const _0x3780d2=this[_0x5248('0x17')][_0x5248('0x7')],_0x387b94=_0x3780d2[_0x5248('0x15')]['selection'];_0x3780d2[_0x5248('0x0')](()=>{let _0x42a272=[];if(_0x387b94['isCollapsed'])_0x42a272=[_0x4dd0c3(_0x387b94[_0x5248('0x11')](),_0x5248('0x10'),_0x387b94[_0x5248('0x8')](_0x5248('0x10')),_0x506704[_0x5248('0x7')])];else _0x42a272=_0x58530f('linkHref',_0x387b94['getFirstRange'](),_0x506704[_0x5248('0x7')]);for(const _0x35ba1b of _0x42a272)_0x3e6417[_0x5248('0xf')](_0x35ba1b,{'commandName':_0x5248('0xc'),'commandParams':[]});});}),_0x3e6417[_0x5248('0x18')][_0x5248('0xa')](_0x3a32b7=>{const {data:_0x5e0803}=_0x3a32b7,_0xad140d=_0x506704[_0x5248('0x5')];if(_0x5e0803){if(_0x5248('0xe')==_0x5e0803['commandName']){const _0x12de0c=_0x5e0803['commandParams'][0x0];return{'type':'format','content':_0x3c1894(_0xad140d,_0x5248('0x1'),'\x22'+_0x12de0c+'\x22')};}return _0x5248('0xc')==_0x5e0803['commandName']?{'type':_0x5248('0x6'),'content':_0x3c1894(_0xad140d,_0x5248('0x16'))}:void 0x0;}});}}