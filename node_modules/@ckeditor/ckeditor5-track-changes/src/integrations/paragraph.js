/*
 *             Copyright (c) 2016 - 2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x5dd8=['type','getFirstRange','locale','ELEMENT_PARAGRAPH','afterInit','*Change\x20to:*\x20%0','model','has','plugins','activeMarkers','schema','ck-suggestion-marker-split','includes','selection','Paragraph','isBlock','checkChild','paragraph','registerElementLabel','from','addMarker:suggestion:insertion','enableCommand','document','isTouching','getSelectedBlocks','ck-suggestion-marker--active','$text','registerDescriptionCallback','end','addClass','nodeAfter','options','*Insert:*\x20%0','insertion','consumable','name','bindElementToMarker','_descriptionFactory','createUIElement','downcastDispatcher','insert','data','get','highest','markerRange','mapper','parent','markBlockFormat','consume','commandName','markerName','toViewPosition','TrackChangesEditing','isLimit','writer','editor'];(function(_0x258a70,_0x5dd8ac){const _0x31aaeb=function(_0x176cc7){while(--_0x176cc7){_0x258a70['push'](_0x258a70['shift']());}};_0x31aaeb(++_0x5dd8ac);}(_0x5dd8,0x101));const _0x31aa=function(_0x258a70,_0x5dd8ac){_0x258a70=_0x258a70-0x0;let _0x31aaeb=_0x5dd8[_0x258a70];return _0x31aaeb;};import{Plugin as _0x837d14}from'ckeditor5/src/core';import{getElementsAffectedByListItemRename as _0x5e72a2}from'./utils';import{getTranslation as _0x463936}from'../utils/common-translations';export default class ct extends _0x837d14{[_0x31aa('0x1b')](){const _0x12a9a8=this[_0x31aa('0x16')];if(!_0x12a9a8['plugins'][_0x31aa('0x1e')](_0x31aa('0x25')))return;const _0x5b09fa=_0x12a9a8[_0x31aa('0x19')],_0x4f6537=_0x12a9a8[_0x31aa('0x1f')][_0x31aa('0x9')](_0x31aa('0x13'));_0x4f6537[_0x31aa('0x4')][_0x31aa('0x29')](_0x31aa('0x28'),_0x234333=>_0x463936(_0x5b09fa,_0x31aa('0x1a'),_0x234333)),_0x4f6537[_0x31aa('0x2c')](_0x31aa('0x28'),(_0x330ff3,_0x38e368={})=>{const _0x51f3d4=_0x12a9a8[_0x31aa('0x1d')][_0x31aa('0x2d')],_0x4150dd=_0x38e368[_0x31aa('0x24')]||_0x51f3d4['selection'],_0x154e8b=Array[_0x31aa('0x2a')](_0x4150dd[_0x31aa('0x2f')]())['filter'](_0x6994f1=>function(_0x1355d5,_0xd61b26){return _0xd61b26[_0x31aa('0x27')](_0x1355d5[_0x31aa('0xd')],_0x31aa('0x28'))&&!_0xd61b26['isObject'](_0x1355d5)&&_0x31aa('0x28')!=_0x1355d5[_0x31aa('0x2')];}(_0x6994f1,this[_0x31aa('0x16')][_0x31aa('0x1d')][_0x31aa('0x21')]));_0x12a9a8['model']['change'](()=>{for(const _0x4e73b4 of _0x154e8b)_0x4f6537[_0x31aa('0xe')](_0x4e73b4,{'commandName':_0x31aa('0x28'),'commandParams':[],'formatGroupId':'blockName'},_0x5e72a2(_0x4e73b4));});}),_0x4f6537[_0x31aa('0x4')][_0x31aa('0x32')](_0x405062=>{const {data:_0x1a9e2c}=_0x405062;if(_0x1a9e2c&&_0x31aa('0x28')==_0x1a9e2c[_0x31aa('0x10')])return{'type':'format','content':_0x463936(_0x5b09fa,_0x31aa('0x1c'),_0x463936(_0x5b09fa,_0x31aa('0x1a')))};}),_0x4f6537[_0x31aa('0x2c')]('insertParagraph'),_0x12a9a8['editing'][_0x31aa('0x6')]['on'](_0x31aa('0x2b'),ar(_0x12a9a8),{'priority':_0x31aa('0xa')}),_0x12a9a8[_0x31aa('0x8')][_0x31aa('0x6')]['on']('addMarker:suggestion:insertion',(_0x7a1aac,_0x194e42,_0x4725c7)=>{_0x4725c7[_0x31aa('0x36')]['showSuggestionHighlights']&&ar(_0x12a9a8,{'showActiveMarker':!0x1})(_0x7a1aac,_0x194e42,_0x4725c7);},{'priority':_0x31aa('0xa')});const _0x4081a7=_0x4f6537[_0x31aa('0x4')];_0x4081a7[_0x31aa('0x32')](_0x4d803f=>{if('insertion'!==_0x4d803f[_0x31aa('0x17')])return;const {start:_0x5f4cf2,end:_0x1d0fe6}=_0x4d803f[_0x31aa('0x18')]();if(!_0x5f4cf2['isTouching'](_0x1d0fe6)||!_0x5f4cf2[_0x31aa('0x35')])return;const _0x474067=_0x12a9a8[_0x31aa('0x1d')][_0x31aa('0x21')],_0x24a477=_0x5f4cf2[_0x31aa('0x35')];return _0x474067[_0x31aa('0x26')](_0x24a477)&&!_0x474067[_0x31aa('0x14')](_0x24a477)&&_0x474067['checkChild'](_0x24a477,_0x31aa('0x31'))?{'type':_0x31aa('0x0'),'content':_0x463936(_0x5b09fa,_0x31aa('0x37'),_0x4081a7['getItemLabel'](_0x24a477,0x1))}:void 0x0;});}}function ar(_0x3ba9c0,{showActiveMarker:_0x45e7a5=!0x0}={}){return(_0x384fd7,_0x32409c,_0x3681ef)=>{const _0x185e97=_0x3ba9c0[_0x31aa('0x1f')][_0x31aa('0x9')](_0x31aa('0x13')),_0x14a812=_0x32409c['markerRange']['start'],_0x346f05=_0x32409c[_0x31aa('0xb')][_0x31aa('0x33')],_0x38a087=_0x3ba9c0[_0x31aa('0x1d')][_0x31aa('0x21')];if(!_0x14a812[_0x31aa('0x2e')](_0x346f05)||!_0x14a812[_0x31aa('0x35')])return;const _0x55da1=_0x14a812[_0x31aa('0x35')];if(_0x38a087[_0x31aa('0x26')](_0x55da1)&&!_0x38a087[_0x31aa('0x14')](_0x55da1)&&_0x38a087[_0x31aa('0x27')](_0x55da1,_0x31aa('0x31'))){if(!_0x3681ef[_0x31aa('0x1')][_0x31aa('0xf')](_0x32409c['markerRange'],_0x384fd7['name']))return;const _0x4c510b=_0x3681ef[_0x31aa('0x15')][_0x31aa('0x5')]('span',{'class':_0x31aa('0x22')}),_0x104a79=_0x3681ef['mapper'][_0x31aa('0x12')](_0x346f05);_0x45e7a5&&_0x185e97[_0x31aa('0x20')][_0x31aa('0x23')](_0x32409c[_0x31aa('0x11')])&&_0x3681ef[_0x31aa('0x15')][_0x31aa('0x34')](_0x31aa('0x30'),_0x4c510b),_0x3681ef[_0x31aa('0x15')][_0x31aa('0x7')](_0x104a79,_0x4c510b),_0x3681ef[_0x31aa('0xc')][_0x31aa('0x3')](_0x4c510b,_0x32409c['markerName']);}};}