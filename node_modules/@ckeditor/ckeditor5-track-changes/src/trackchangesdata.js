/*
 *             Copyright (c) 2016 - 2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x1200=['appendChild','filter','function','discardAllSuggestions','init','RevisionTracker','_adapter','context','editor','DocumentOutline','plugins','has','get','destroy','data','end','Users','set','trackChangesData.editorCreator','getRootNames','trackChangesData','push','getSuggestions','addSuggestionData','execute','Pagination','users','adapter','names','TrackChangesEditing','constructor','from','every','requires','define','div','editorCreator','concat','CommentsRepository','result','createElement','WordCount','useAnonymousUser','addUser','string','WebSocketGateway','TrackChangesDataGetter','reduce','pluginName','track-changes-data-invalid-editor-creator','createDocumentFragment','extraPlugins','map','toolbar','config','acceptAllSuggestions','getDataWithAcceptedSuggestions'];(function(_0x2f9db6,_0x120005){const _0x13731e=function(_0x436593){while(--_0x436593){_0x2f9db6['push'](_0x2f9db6['shift']());}};_0x13731e(++_0x120005);}(_0x1200,0x70));const _0x1373=function(_0x2f9db6,_0x120005){_0x2f9db6=_0x2f9db6-0x0;let _0x13731e=_0x1200[_0x2f9db6];return _0x13731e;};import{Plugin as _0x152db5}from'ckeditor5/src/core';import{CKEditorError as _0x338a74}from'ckeditor5/src/utils';import _0x55629c from'./trackchangesediting';const C=['initialData',_0x1373('0x9'),_0x1373('0x37')],w=[_0x1373('0x2f'),_0x1373('0x7'),'Autosave',_0x1373('0x2b'),_0x1373('0x1b'),_0x1373('0xb')];export default class T extends _0x152db5{static get[_0x1373('0x23')](){return[_0x55629c];}static get[_0x1373('0x32')](){return'TrackChangesData';}[_0x1373('0x6')](){const _0x2d9b0b=this[_0x1373('0xa')];if(_0x2d9b0b[_0x1373('0x38')][_0x1373('0x24')](_0x1373('0x14'),_0x22c2f9=>_0x2d9b0b[_0x1373('0x20')]['create']('',_0x22c2f9)),_0x1373('0x4')!=typeof _0x2d9b0b[_0x1373('0x38')]['get']('trackChangesData')[_0x1373('0x26')])throw new _0x338a74(_0x1373('0x33'));}[_0x1373('0x1')](_0x2a5f76){return P(this[_0x1373('0xa')],!0x0,_0x2a5f76);}['getDataWithDiscardedSuggestions'](_0x449fea){return P(this[_0x1373('0xa')],!0x1,_0x449fea);}}class D extends _0x152db5{static get[_0x1373('0x32')](){return _0x1373('0x30');}constructor(_0x5b0cc8){super(_0x5b0cc8),this[_0x1373('0x29')]=_0x1373('0x11');}[_0x1373('0x6')](){this[_0x1373('0xa')][_0x1373('0xc')][_0x1373('0xe')](_0x1373('0x28'))[_0x1373('0x1d')]={'addCommentThread':()=>new Promise(()=>{}),'getCommentThread':()=>new Promise(()=>{}),'updateCommentThread':()=>new Promise(()=>{}),'resolveCommentThread':()=>new Promise(()=>{}),'reopenCommentThread':()=>new Promise(()=>{}),'removeCommentThread':()=>new Promise(()=>{}),'addComment':()=>new Promise(()=>{}),'updateComment':()=>new Promise(()=>{}),'removeComment':()=>new Promise(()=>{})},this['editor']['plugins']['get']('TrackChangesEditing')[_0x1373('0x8')]=null;}}async function P(_0x129bee,_0x4f2a0a,_0x49da44){const _0x5b69d4=function(_0x320b6e){const _0x1e1d1b={};for(const _0x522734 of _0x320b6e[_0x1373('0x38')][_0x1373('0x1e')]())C['includes'](_0x522734)||(_0x1e1d1b[_0x522734]=_0x320b6e[_0x1373('0x38')][_0x1373('0xe')](_0x522734));const _0xe9cf13=_0x320b6e[_0x1373('0x20')]['builtinPlugins']||[],_0x43f950=_0x1e1d1b['extraPlugins']||[];delete _0x1e1d1b[_0x1373('0x35')];const _0x4035c8=_0xe9cf13[_0x1373('0x27')](_0x1e1d1b[_0x1373('0xc')])[_0x1373('0x27')](_0x43f950)[_0x1373('0x36')](_0x18ad25=>_0x1373('0x2e')==typeof _0x18ad25?_0xe9cf13['find'](_0x82113=>_0x82113[_0x1373('0x32')]==_0x18ad25):_0x18ad25),_0x480736=Array[_0x1373('0x21')](new Set(_0x4035c8)),_0x2df1af=new Map();return _0x1e1d1b[_0x1373('0xc')]=_0x480736[_0x1373('0x3')](_0x5bf1f1=>v(_0x5bf1f1,_0x2df1af)),_0x1e1d1b[_0x1373('0xc')][_0x1373('0x17')](D),_0x1e1d1b[_0x1373('0xc')][_0x1373('0x17')](_0x55629c),_0x1e1d1b;}(_0x129bee),_0xa266b8=document[_0x1373('0x34')](),_0xb8f945=_0x129bee[_0x1373('0x38')][_0x1373('0xe')](_0x1373('0x16'))[_0x1373('0x26')],_0x188a6f=await _0xb8f945(_0x5b69d4,()=>function(_0x4c72ab){const _0x55ac3c=document[_0x1373('0x2a')](_0x1373('0x25'));return _0x4c72ab[_0x1373('0x2')](_0x55ac3c),_0x55ac3c;}(_0xa266b8));!function(_0x19c09a,_0x85064c){const _0xd66e9=_0x19c09a['model']['document'][_0x1373('0x15')]()[_0x1373('0x31')]((_0x2f7502,_0x572a8f)=>(_0x2f7502[_0x572a8f]=_0x19c09a[_0x1373('0x10')][_0x1373('0xe')]({'rootName':_0x572a8f}),_0x2f7502),{}),_0x9697a8=_0x19c09a[_0x1373('0xc')][_0x1373('0xe')]('Users')[_0x1373('0x1c')][_0x1373('0x36')](_0x406e37=>({'id':_0x406e37['id'],'name':_0x406e37['name']})),_0x571b8f=_0x19c09a[_0x1373('0xc')][_0x1373('0xe')](_0x1373('0x1f'))[_0x1373('0x18')]({'skipNotAttached':!0x0,'toJSON':!0x0}),_0x237a48=_0x85064c[_0x1373('0xc')]['get'](_0x1373('0x12')),_0x1a80d4=_0x85064c[_0x1373('0xc')][_0x1373('0xe')]('TrackChangesEditing');for(const _0x509b99 of _0x9697a8)_0x237a48['getUser'](_0x509b99['id'])||_0x237a48[_0x1373('0x2d')](_0x509b99);_0x237a48['me']||_0x237a48[_0x1373('0x2c')]();for(const _0x470f0a of _0x571b8f)_0x1a80d4[_0x1373('0x19')](_0x470f0a);_0x85064c['data'][_0x1373('0x13')](_0xd66e9);}(_0x129bee,_0x188a6f),_0x188a6f[_0x1373('0x1a')](_0x4f2a0a?_0x1373('0x0'):_0x1373('0x5'));const _0x118691=_0x188a6f[_0x1373('0x10')][_0x1373('0xe')](_0x49da44);return await _0x188a6f[_0x1373('0xf')](),_0x118691;}function v(_0x4408b8,_0x5bac7e){const _0x72dcda=_0x1373('0x4')==typeof _0x4408b8?_0x4408b8[_0x1373('0x32')]||_0x4408b8['name']:_0x4408b8;if(_0x5bac7e[_0x1373('0xd')](_0x72dcda))return _0x5bac7e[_0x1373('0xe')](_0x72dcda);if(_0x5bac7e[_0x1373('0x13')](_0x72dcda,!0x0),_0x72dcda&&w['includes'](_0x72dcda))return _0x5bac7e[_0x1373('0x13')](_0x72dcda,!0x1),!0x1;if(!_0x4408b8[_0x1373('0x23')])return _0x5bac7e[_0x1373('0x13')](_0x72dcda,!0x0),!0x0;const _0x3de95f=_0x4408b8[_0x1373('0x23')][_0x1373('0x22')](_0x11fe85=>v(_0x11fe85,_0x5bac7e));return _0x5bac7e[_0x1373('0x13')](_0x72dcda,_0x3de95f),_0x3de95f;}