/*
 *             Copyright (c) 2016 - 2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x25e3=['templatesDefinitions','set','extendTemplate','sort','map','focusTracker','items','setNoTemplatesFoundText','keystrokes','searchFieldView','input','title','fieldView','div','add','setNoTemplatesAvailableText','originalIndex','includes','buttonView','_createTemplateListView','selectstart','render','high','element','_filterTemplates','templateListView','addMany','highlightText','length','setTemplate','execute','listenTo','get','isVisible','createCollection','unfilter','arrowdown','filter','toLowerCase','arrowright','delegate','size','tab','focus','infoView','_createSearchFieldView','value','arrowup','children','reset','clear','templateDefinition'];(function(_0x342142,_0x25e326){const _0x5c181f=function(_0x5e84c1){while(--_0x5e84c1){_0x342142['push'](_0x342142['shift']());}};_0x5c181f(++_0x25e326);}(_0x25e3,0x13f));const _0x5c18=function(_0x342142,_0x25e326){_0x342142=_0x342142-0x0;let _0x5c181f=_0x25e3[_0x342142];return _0x5c181f;};import{FocusTracker as _0x17f7a3,KeystrokeHandler as _0x20d3f0}from'ckeditor5/src/utils';import{View as _0x558bb2,ListView as _0x3a6ff6,createLabeledInputText as _0x467b1b,FocusCycler as _0x393215,injectCssTransitionDisabler as _0x40c3cb}from'ckeditor5/src/ui';import _0x4f2ec5 from'./templatelistbuttonview';import _0x1ecd2d from'./templateforminfoview';import _0x3da490 from'./templateformsearchfieldview';import{escapeRegExp as _0x4d097c}from'lodash-es';import _0x539aec from'./templatelistitemview';export default class f extends _0x558bb2{constructor(_0x5104da,_0x439bfd){super(_0x5104da),this[_0x5c18('0x32')]=new _0x17f7a3(),this['keystrokes']=new _0x20d3f0(),this['templatesDefinitions']=_0x439bfd,this[_0x5c18('0x12')]=this[_0x5c18('0xc')](_0x5104da,_0x439bfd),this[_0x5c18('0x2')]=this['_createSearchFieldView'](_0x5104da),this[_0x5c18('0x25')]=new _0x1ecd2d(_0x5104da),_0x439bfd[_0x5c18('0x15')]||(this[_0x5c18('0x25')][_0x5c18('0x1a')]=!0x0,this[_0x5c18('0x25')][_0x5c18('0x8')]()),this[_0x5c18('0x29')]=this[_0x5c18('0x1b')](_0x439bfd[_0x5c18('0x15')]?[this[_0x5c18('0x2')],this[_0x5c18('0x25')],this[_0x5c18('0x12')]]:[this[_0x5c18('0x25')]]),this['_focusCycler']=new _0x393215({'focusables':this[_0x5c18('0x29')],'focusTracker':this[_0x5c18('0x32')],'keystrokeHandler':this[_0x5c18('0x1')],'actions':{'focusPrevious':'shift\x20+\x20tab','focusNext':_0x5c18('0x23')}}),this[_0x5c18('0x16')]({'tag':_0x5c18('0x6'),'attributes':{'class':['ck','ck-template-form'],'tabindex':'-1'},'children':this['children']}),_0x40c3cb(this);}[_0x5c18('0xe')](){if(super['render'](),!this[_0x5c18('0x2d')][_0x5c18('0x15')])return;const _0x4f5e69=_0x31755b=>_0x31755b['stopPropagation']();this['focusTracker'][_0x5c18('0x7')](this[_0x5c18('0x2')]['element']),this[_0x5c18('0x32')][_0x5c18('0x7')](this[_0x5c18('0x12')][_0x5c18('0x10')]),this[_0x5c18('0x1')]['listenTo'](this[_0x5c18('0x10')]),this[_0x5c18('0x1')][_0x5c18('0x2e')](_0x5c18('0x20'),_0x4f5e69),this[_0x5c18('0x1')]['set']('arrowleft',_0x4f5e69),this['keystrokes'][_0x5c18('0x2e')](_0x5c18('0x28'),_0x4f5e69),this['keystrokes'][_0x5c18('0x2e')](_0x5c18('0x1d'),_0x4f5e69),this[_0x5c18('0x18')](this[_0x5c18('0x2')][_0x5c18('0x10')],_0x5c18('0xd'),(_0x40900e,_0x53c4b)=>{_0x53c4b['stopPropagation']();},{'priority':_0x5c18('0xf')});}[_0x5c18('0x24')](){this[_0x5c18('0x2d')][_0x5c18('0x15')]&&this[_0x5c18('0x2')]['focus']();}[_0x5c18('0x2a')](){this['templatesDefinitions'][_0x5c18('0x15')]&&(this[_0x5c18('0x2')][_0x5c18('0x2a')](),this[_0x5c18('0x11')]());}[_0x5c18('0x11')](_0x4ac2ff){if(!this[_0x5c18('0x2d')][_0x5c18('0x15')])return;let _0x1c31c9=!0x1;if(_0x4ac2ff)for(const _0x3262fc of this[_0x5c18('0x12')][_0x5c18('0x33')]){_0x3262fc['children']['first'][_0x5c18('0x2c')][_0x5c18('0x4')][_0x5c18('0x1f')]()[_0x5c18('0xa')](_0x4ac2ff[_0x5c18('0x1f')]())?_0x3262fc[_0x5c18('0x1a')]=!0x0:_0x3262fc['isVisible']=!0x1;const _0x22b16b=new RegExp(_0x4d097c(_0x4ac2ff),'ig');_0x1c31c9=this[_0x5c18('0x12')][_0x5c18('0x1e')](_0x22b16b);}else this[_0x5c18('0x12')]['unfilter'](),_0x1c31c9=!0x0;this[_0x5c18('0x25')][_0x5c18('0x1a')]=!_0x1c31c9,_0x1c31c9||this['infoView'][_0x5c18('0x0')](_0x4ac2ff);}[_0x5c18('0xc')](_0x5b132d,_0x178223){const _0x117dfa=new L(_0x5b132d);return _0x117dfa[_0x5c18('0x2f')]({'attributes':{'class':['ck-template-list']}}),_0x117dfa[_0x5c18('0x33')][_0x5c18('0x13')](_0x178223[_0x5c18('0x31')]((_0x32aea4,_0x397d48)=>{const _0xcb42ea=new _0x539aec(_0x5b132d,_0x397d48),_0x4f132b=new _0x4f2ec5(_0x5b132d,_0x32aea4);return _0xcb42ea[_0x5c18('0xb')]=_0x4f132b,_0xcb42ea[_0x5c18('0x29')][_0x5c18('0x7')](_0x4f132b),_0xcb42ea['children'][_0x5c18('0x21')](_0x5c18('0x17'))['to'](this),_0xcb42ea;})),_0x117dfa;}[_0x5c18('0x26')](_0x16cb99){const _0x3ab65d=new _0x3da490(_0x16cb99,_0x467b1b);return this[_0x5c18('0x18')](_0x3ab65d[_0x5c18('0x5')],_0x5c18('0x3'),()=>{this[_0x5c18('0x11')](_0x3ab65d[_0x5c18('0x5')][_0x5c18('0x10')][_0x5c18('0x27')]);}),_0x3ab65d['on']('reset',()=>{this[_0x5c18('0x2a')]();}),_0x3ab65d;}}class L extends _0x3a6ff6{[_0x5c18('0x1e')](_0x2b6660){const _0x4687be=new Map(),_0x4eb193=this['items']['map'](_0x5c5db9=>{const _0x55c8db=_0x5c5db9[_0x5c18('0xb')]['isMatching'](_0x2b6660);return _0x5c5db9[_0x5c18('0x1a')]=!!_0x55c8db,_0x5c5db9['buttonView'][_0x5c18('0x14')](_0x55c8db?_0x2b6660:null),_0x55c8db&&_0x4687be['set'](_0x5c5db9,_0x55c8db),_0x5c5db9;})[_0x5c18('0x30')](M)['sort']((_0x5c6b65,_0x25765d)=>{const _0x204c0f=_0x4687be[_0x5c18('0x19')](_0x5c6b65),_0x58a4aa=_0x4687be[_0x5c18('0x19')](_0x25765d);return _0x204c0f&&!_0x58a4aa?-0x1:_0x58a4aa&&!_0x204c0f?0x1:_0x204c0f||_0x58a4aa?_0x204c0f[_0x5c18('0x4')]&&!_0x58a4aa['title']?-0x1:!_0x204c0f['title']&&_0x58a4aa[_0x5c18('0x4')]?0x1:0x0:0x0;});return this[_0x5c18('0x33')][_0x5c18('0x2b')](),this[_0x5c18('0x33')][_0x5c18('0x13')](_0x4eb193),!!_0x4687be[_0x5c18('0x22')];}[_0x5c18('0x1c')](){const _0x536cf2=this[_0x5c18('0x33')][_0x5c18('0x31')](_0x28c680=>_0x28c680)[_0x5c18('0x30')](M);_0x536cf2['forEach'](_0x5a0c1b=>{_0x5a0c1b[_0x5c18('0x1a')]=!0x0,_0x5a0c1b[_0x5c18('0xb')]['highlightText'](null);}),this['items'][_0x5c18('0x2b')](),this[_0x5c18('0x33')][_0x5c18('0x13')](_0x536cf2);}}function M(_0x3caae5,_0x260e98){return _0x3caae5[_0x5c18('0x9')]-_0x260e98['originalIndex'];}