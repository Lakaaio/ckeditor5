mixin treeItem( node )
    - const children = node.getChildren();
    - const hasChildren = children && children.length > 0;
    - let dataAttr = {};

    - if ( node.getProp( 'access' ) ) dataAttr[ `data-${node.getProp('access')}` ] = 'true';

    li( class= hasChildren ? "toggler--collapsed" : "" )&attributes(dataAttr)
        - let wrapperClass = "tree__item__wrapper";

        - const classStr = "tree__item--"  + node.getProp( 'type' ) + " tree__item__text";
        - const link = node.getUrl();
        - const longname = node.getProp( 'longname' );

        if !hasChildren
            a( href=link )
                div( class = wrapperClass data-ln = longname )
                    span( class = classStr )
                        | #{ node.getProp( 'name' ) }
        else
            div( class = wrapperClass data-ln = longname )
                if ( link )
                    a( class = classStr href=link )
                        | #{ node.getProp( 'name' ) }
                else
                    span( class = classStr )
                        | #{ node.getProp( 'name' ) }
            ul
                each child in children
                    +treeItem( child )
