include ./_link-or-text.pug
include ./_badge.pug
include ./_dev-names.pug
include ./_api-see-source.pug

//- todo: actually these shouldnt be collapsing-list__items
mixin classItem( item )
	- const attrData = createFilterAttribs( item );

	li( class="collapsing-list__item collapsing-list__item--visible" )&attributes( attrData )
		div( class="collapsing-list__term" id=item.id )
			h3
				if isNonEmptyArray( item.badges )
					p.badges
						each badge in item.badges
							+badge( badge )

				code
					+linkOrText( item.longname, {
						linkText: item.name
					} )

				+devNames( item.longname )

		if ( item.description && item.description.excerpt )
			div.collapsing-list__description
				p( class="collapsing-list__excerpt collapsing-list__excerpt--short" )
					| !{ item.description.excerpt }
				+seeSource( item )
