/**
 * @license Copyright (c) 2017-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */

'use strict';

/**
 * Escape character `{{` and `}}` in markdown sources. See #579.
*/
hexo.extend.filter.register( 'before_post_render', page => {
	page.content = page.content
		.replace( /\{\{/g, '{% raw %}{{{% endraw %}' )
		.replace( /(?<!%)\}\}/g, '{% raw %}}}{% endraw %}' );
} );
